<!-- åšæ–‡çš„å¸ƒå±€-Layout -->
<!DOCTYPE html>
<html>
<head>
<!-- å¼•å…¥headæ ‡ç­¾ -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-sclable=0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="description" content="åå—ä»”çš„å­¦ä¹ ç¬”è®°" />
<meta name="keywords" content="your web keywords, another keywords" />
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="stylesheet" href="/assets/css/media.css">
<link rel="stylesheet" href="/assets/css/animate.min.css">
<link rel="stylesheet" href="/assets/css/pygments/pygments_default.css">
<link rel="stylesheet" href="/assets/css/github-markdown.css">
<!-- SNS-icon -->
<script src="//at.alicdn.com/t/font_856428_y9z6nq7zf5.js"></script>
<!-- share.css -->
<link rel="stylesheet" href="/assets/css/share.min.css">
<!-- font -->
<link rel="stylesheet" href="/assets/css/font.css">
<!-- <link href="https://fonts.googleapis.com/css?family=Kaushan+Script|Pacifico|Ubuntu|Roboto+Mono|Source+Sans+Pro" rel="stylesheet"> -->

<!-- Favicon -->
<!-- <link href="/assets/profile.jpeg" rel="shortcut icon" />
<link href="/assets/profile.jpeg" rel="apple-touch-icon-precomposed" /> -->
<link href="/assets/author.jpeg" rel="shortcut icon" />
<link href="/assets/author.jpeg" rel="apple-touch-icon-precomposed" />
<!-- Android Lolipop Theme Color -->
<!-- <meta name="theme-color" content="#1464FB"> -->
<title>React åŸºç¡€</title>
<!-- ç™¾åº¦ç»Ÿè®¡ -->

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

<!-- è°·æ­Œåˆ†æ -->


<!-- Android Lolipop Theme Color -->
<meta name="theme-color" content=" rgb(125,92,31) ">
</head>
<body>

<!-- é¡¶éƒ¨é”šç‚¹ -->
<a id="htmlup" name="htmlup"></a>
<!-- å¼•å…¥åšæ–‡é¡¶éƒ¨é€‰é¡¹ -->

<header id="post-header" style="background-color:rgb(125,92,31);">
  <div class="top-center">
      <div class="logo">
          <a href="/" title="my awesome webtitle" style="color: white;">æ—æ ¡é•¿</a>
      </div>
      <nav class="top-nav">
          <ul>
              
                <li><a href="/" style="color: white;">é¦–é¡µ</a></li>
              
                <li><a href="/tags.html" style="color: white;">æ ‡ç­¾</a></li>
              
                <li><a href="/timeline.html" style="color: white;">æ—¶é—´çº¿</a></li>
              
                <li><a href="/about.html" style="color: white;">å…³äºåšä¸»</a></li>
              
                <li><a href="/friendLink.html" style="color: white;">å‹æƒ…é“¾æ¥</a></li>
              
          </ul>
      </nav>
      <div id="top-boot">
        <a href="javascript:;" id="boot1" style="display:block;" onclick="document.getElementById('boot-area').style.display='block';document.getElementById('boot1').style.display='none';document.getElementById('boot2').style.display='block';"><img src="/assets/boot_white.png" alt=""></a>
        <a href="javascript:;" id="boot2" style="display: none;" onclick="document.getElementById('boot-area').style.display='none';document.getElementById('boot1').style.display='block';document.getElementById('boot2').style.display='none';"><img src="/assets/boot_white.png" alt=""></a>
      </div>
  </div>

</header>


<!-- å¼•å…¥ç§»åŠ¨ä¸‹æ‹‰é€‰é¡¹ -->
<div id="boot-area">
    <ul>
        
          <a href="/"><li>é¦–é¡µ</li></a>
        
          <a href="/tags.html"><li>æ ‡ç­¾</li></a>
        
          <a href="/timeline.html"><li>æ—¶é—´çº¿</li></a>
        
          <a href="/about.html"><li>å…³äºåšä¸»</li></a>
        
          <a href="/friendLink.html"><li>å‹æƒ…é“¾æ¥</li></a>
        
    </ul>
</div>

<!-- å¼•å…¥åšæ–‡é¡¶éƒ¨æ ·å¼ -->
<!-- ç‰ˆæœ¬ä¸€ åƒåœ¾ -->
<!-- <div class="wow fadeIn top" data-wow-duration="3.5s" >
    <span class="wow fadeInUp" data-wow-delay="0.2s">React åŸºç¡€</span>
    <span class="wow fadeInUp" data-wow-delay="0.4s"></span>
    <span class="wow fadeInUp" data-wow-delay="0.4s"></span>
    <span class="wow fadeInUp" data-wow-delay="0.6s">ä½œè€…&nbsp;&nbsp;|&nbsp;&nbsp;Elin159</span>
</div> -->

<!-- ç‰ˆæœ¬äºŒ å¯åˆ‡æ¢é¡µé¢ -->

<div class="post-top" style="background-color:rgb(125,92,31);">
  <!-- é¡µé¢å®½åº¦å¤§äº800px -->
  <div class="left-area">
    
      <a href="javascript:;" class="btn bounceInLeft animated" onmouseover="showLeft();this.style.color='rgb(125,92,31)';" onmouseout="goneLeft();this.style.color='rgba(0,0,0,.2)';"><</a>
      <div id="left-tab" style="display:none;"><span class="left-san"></span><span class="left-main" style="color:rgb(125,92,31);"><sapn class="main">æ²¡æœ‰ä¸Šä¸€é¡µå’¯</sapn></span></div>
    
  </div>
  <div class="post-titlearea">
    <span class="wow fadeInUp" data-wow-delay="0.2s">React åŸºç¡€</span>
    <!-- <span class="wow fadeInUp" data-wow-delay="0.4s"></span> -->
    <!-- <span class="wow fadeInUp" data-wow-delay="0.4s"></span> -->
    <!-- <span class="wow fadeInUp" data-wow-delay="0.6s">ä½œè€…&nbsp;&nbsp;|&nbsp;&nbsp;Elin159</span> -->
  </div>
  <div class="right-area">
    
      <a href="/2019/08/12/%E7%AC%AC%E5%8D%81%E5%85%AD%E5%A4%A9%E5%AD%A6%E4%B9%A0(React%E5%85%A5%E9%97%A8%E4%B8%80).html" class="btn bounceInRight self-animated" onmouseover="showRight();this.style.color='rgb(125,92,31)';" onmouseout="goneRight();this.style.color='rgba(0,0,0,.2)';">></a>
      <div id="right-tab" style="display:none;"><span class="right-san"></span><span class="right-main" style="color:rgb(125,92,31);"><sapn class="main">React ç®€ä»‹</sapn></span></div>
    
  </div>

  <!-- é¡µé¢å®½åº¦å°äº800px -->
  <div class="post-changearea">
    
      <a href="javascript:;" class="leftchange" style="border-right: 1px solid rgb(125,92,31);border-bottom: 2px solid rgb(125,92,31);"><span><br>æ²¡æœ‰ä¸Šä¸€ç¯‡å’¯</span></a>
    
    
      <a href="/2019/08/12/%E7%AC%AC%E5%8D%81%E5%85%AD%E5%A4%A9%E5%AD%A6%E4%B9%A0(React%E5%85%A5%E9%97%A8%E4%B8%80).html" class="rightchange" style="border-left: 1px solid rgb(125,92,31);border-bottom: 2px solid rgb(125,92,31);"><span>ä¸‹ä¸€ç¯‡<br><br>React ç®€ä»‹</span></a>
    
  </div>
</div>


<div class="markdown-body fadeInUp animated">

  

  <!-- æ–‡ç« å†…å®¹ -->
  <h1 id="ç¬¬17å¤©å­¦ä¹ react">ç¬¬17å¤©å­¦ä¹ (React)</h1>

<h1 id="reactåŸºç¡€">ReactåŸºç¡€</h1>

<p>æœ¬ç« å°†æŒ‡å¯¼ä½ äº†è§£Reactçš„åŸºç¡€çŸ¥è¯†ã€‚ç”±äºé™æ€ç»„ä»¶ä¼šæœ‰äº›æ¯ç‡¥ï¼Œæ‰€ä»¥è¿™ç« çš„å†…å®¹ä¼šåŒ…å«ç»„ä»¶çš„çŠ¶æ€äºäº¤äº’ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†å­¦ä¹ ä½¿ç”¨ä¸åŒæ–¹å¼å£°æ˜ç»„ä»¶ä»¥åŠå¦‚ä½•ä¿æŒç»„ä»¶çš„å¯ç»„åˆå‹å’Œå¯å¤ç”¨æ€§ã€‚å‡†å¤‡å¥½åˆ›é€ æˆ‘ä»¬è‡ªå·±çš„ç»„ä»¶å§ã€‚</p>

<h2 id="ç»„ä»¶å†…å®¹çŠ¶æ€">ç»„ä»¶å†…å®¹çŠ¶æ€</h2>

<p>ç»„ä»¶å†…éƒ¨çŠ¶æ€ä¹Ÿè¢«ç§°ä¸ºå±€éƒ¨çŠ¶æ€ï¼Œå…è®¸æˆ‘ä»¬ä¿å­˜ã€ä¿®æ”¹å’Œåˆ é™¤å­˜å‚¨åœ¨ç»„ä»¶å†…éƒ¨çš„å±æ€§ã€‚ä½¿ç”¨ES6ç±»ç»„ä»¶å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ç»„ä»¶çš„çŠ¶æ€ã€‚æ„é€ å‡½æ•°åªä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡ã€‚</p>

<p>è®©æˆ‘ä»¬å¼•å…¥ç±»æ„é€ å‡½æ•°å§ï½ï¼›</p>

<p>ä¸¾ä¸ªå°ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="p">...</span>
  
<span class="p">}</span>
</code></pre></div></div>

<p>å½“æˆ‘ä»¬ä½¿ç”¨ES6ç¼–å†™çš„ç»„ä»¶æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œå®ƒéœ€è¦å¼ºåˆ¶è°ƒç”¨super();æ–¹æ³•ï¼Œå› ä¸ºè¿™ä¸ªAppç»„ä»¶æ˜¯Componentçš„å­ç±»ã€‚å› æ­¤åœ¨æˆ‘ä»¬çš„Appç»„ä»¶è¦å£°æ˜extends Componentã€‚</p>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è°ƒç”¨super(props); å®ƒä¼šåœ¨æˆ‘ä»¬çš„æ„é€ å‡½æ•°ä¸­è®¾ç½®this.props ä»¥ä¾›åœ¨æ„é€ å‡½æ•°ä¸­è®¿é—®å®ƒä»¬ã€‚</p>

<p>å¦åˆ™å½“åœ¨æ„é€ å‡½æ•°ä¸­è®¿é—®this.props,ä¼šå¾—åˆ°undefinedã€‚</p>

<p>ä¸¾ä¸ªå°ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">list</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">title</span><span class="p">:</span><span class="s1">'React'</span><span class="p">,</span>
    <span class="na">url</span><span class="p">:</span><span class="s1">'https://facebook.github.io/react/'</span><span class="p">,</span>
    <span class="na">author</span><span class="p">:</span><span class="s1">'Jordan Walke'</span><span class="p">,</span>
    <span class="na">num_comments</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
    <span class="na">points</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span>
    <span class="na">objectID</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">...</span>
<span class="p">];</span>
  
	<span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  	<span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
      
      <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">list</span><span class="p">:</span><span class="nx">list</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">}</span>
		<span class="p">...</span>
  <span class="p">}</span>  
  
</code></pre></div></div>

<p>stateé€šè¿‡ä½¿ç”¨thisç»‘å®šåœ¨ç±»ä¸Šã€‚</p>

<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ•´ä¸ªç»„ä»¶ä¸­è®¿é—®åˆ°stateã€‚ä¾‹å¦‚å®ƒå¯ä»¥ç”¨åœ¨render() æ–¹æ³•ä¸­ã€‚æ­¤å‰æˆ‘ä»¬å·²ç»åœ¨render()æ–¹æ³•ä¸­æ˜ å°„ä¸€ä¸ªåœ¨ç»„ä»¶å¤–å®šä¹‰é™æ€åˆ—è¡¨ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨stateé‡Œçš„listäº†ã€‚</p>

<p>ä¸¾ä¸€ä¸ªä¸­ç­‰ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">}</span><span class="o">&gt;</span>
          	<span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
            	<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">url</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">author</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">num_comments</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">points</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="err">/</span><span class="nt">div</span><span class="p">&gt;</span>
        })<span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç°åœ¨listæ˜¯ç»„ä»¶çš„ä¸€éƒ¨åˆ†ã€‚å®ƒé©»ç•™åœ¨ç»„ä»¶çš„stateä¸­ã€‚</p>

<p>æˆ‘ä»¬å¯ä»¥ä»listä¸­æ·»åŠ ã€ä¿®æ”¹æˆ–è€…åˆ é™¤åˆ—è¡¨é¡¹ã€‚</p>

<p>æ¯æ¬¡æˆ‘ä»¬ä¿®æ”¹ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ï¼Œç»„ä»¶çš„renderæ–¹æ³•ä¼šå†æ¬¡è¿è¡Œã€‚</p>

<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç®€å•åœ°ä¿®æ”¹ç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼Œç¡®ä¿ç»„ä»¶é‡æ–°æ¸²æŸ“å¹¶ä¸”å±•ç¤ºä»å†…éƒ¨çŠ¶æ€è·å–åˆ°çš„æ­£ç¡®æ•°æ®ã€‚</p>

<p>âš ï¸æ³¨æ„ï¼šä¸è¦ç›´æ¥<strong>ä¿®æ”¹state</strong>ã€‚æˆ‘ä»¬å¿…é¡»ä½¿ç”¨<strong>setState()</strong>æ–¹æ³•æ¥ä¿®æ”¹å®ƒã€‚</p>

<h2 id="es6å¯¹è±¡åˆå§‹åŒ–">ES6å¯¹è±¡åˆå§‹åŒ–</h2>

<p>åœ¨ES6ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å†™å±æ€§æ›´åŠ ç®€æ´åœ°åˆå§‹åŒ–å¯¹è±¡ã€‚</p>

<p>ä¸¾ä¸ªå°ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="s1">'Robin'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span><span class="nx">name</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div></div>

<p>å½“æˆ‘ä»¬çš„å¯¹è±¡ä¸­çš„å±æ€§åä¸å˜é‡åç›¸åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹çš„æ“ä½œï¼š</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="s1">'Robin'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div></div>

<p>åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·åšã€‚åˆ—è¡¨å˜é‡åå’ŒçŠ¶æ€å±æ€§åç§°å…±äº«åŒä¸€åç§°ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ES5</span>
<span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">list</span><span class="p">:</span> <span class="nx">list</span><span class="p">,</span>
<span class="p">};</span>
<span class="c1">//ES6</span>
<span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">list</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div></div>

<p>å¦ä¸€ä¸ªç®€æ´çš„è¾…åŠ©åŠæ³•æ˜¯<strong>ç®€å†™æ–¹æ³•å</strong>ã€‚</p>

<p>ä¸¾ä¸ªğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ES5</span>
<span class="kd">var</span> <span class="nx">userService</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">getUserName</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">firstname</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="nx">user</span><span class="p">.</span><span class="nx">lastname</span><span class="p">;</span>
  <span class="p">},</span>
<span class="p">}</span>
<span class="c1">//ES6</span>
<span class="kd">const</span> <span class="nx">userService</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">getUserName</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">firstname</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="nx">user</span><span class="p">.</span><span class="nx">lastname</span><span class="p">;</span>
  <span class="p">},</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æœ€åæˆ‘ä»¬å¯ä»¥åœ¨ES6ä¸­ä½¿ç”¨è®¡ç®—å±æ€§åã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//ES5</span>
<span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="s1">'Robin'</span><span class="p">,</span>
<span class="p">};</span>
<span class="c1">//ES6</span>
<span class="kd">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="s1">'name'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="p">:</span> <span class="s1">'Robin'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="å•å‘æ•°æ®æµ">å•å‘æ•°æ®æµ</h2>

<p>ç°åœ¨æˆ‘ä»¬çš„ç»„ä»¶ä¸­æœ‰ä¸€äº›å†…éƒ¨çš„stateã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰æ“çºµå®ƒä»¬ï¼Œå› æ­¤stateæ˜¯é™æ€çš„ã€‚ä¸€ä¸ªç»ƒä¹ stateæ“ä½œå¥½æ–¹æ³•æ˜¯å¢åŠ ä¸€äº›ç»„ä»¶çš„äº¤äº’ã€‚</p>

<p>è®©æˆ‘ä»¬ä¸ºåˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹å¢åŠ ä¸€ä¸ªæŒ‰é’®ã€‚æ„å‘³ç€å°†ä»åˆ—è¡¨ä¸­åˆ é™¤è¯¥é¡¹ã€‚è¿™ä¸ªæŒ‰é’®åœ¨æˆ‘ä»¬å¸Œæœ›ä¿ç•™æœªè¯»åˆ—è¡¨å’Œåˆ é™¤ä¸æ„Ÿå…´è¶£çš„é¡¹æ—¶ä¼šéå¸¸æœ‰ç”¨ã€‚</p>

<p>ä¸¾ä¸ªä¸­ç­‰ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">}</span><span class="o">&gt;</span>
          	<span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
            	<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">url</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">author</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">num_comments</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">points</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
            	<span class="p">&lt;</span><span class="nt">button</span> 
                <span class="na">onClick=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">)</span><span class="si">}</span>
                <span class="na">type=</span><span class="s2">"button"</span>
              <span class="p">&gt;</span>
              	Dismiss
              <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="err">/</span><span class="nt">div</span><span class="p">&gt;</span>
        });<span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è¿™ä¸ªç±»æ–¹æ³•onDismiss()è¿˜æ²¡æœ‰è¢«å®šä¹‰ï¼Œæˆ‘ä»¬ç¨åå†æ¥åšè¿™ä»¶äº‹ã€‚</p>

<p>åœ¨<code class="highlighter-rouge">onClick</code>äº‹ä»¶å¤„ç†å™¨ä¸­ï¼ŒonDismiss()æ–¹æ³•è¢«åŒ…è£¹ç€ã€‚å®ƒæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥æ‹¿åˆ°itemå¯¹è±¡ä¸­çš„objectIDå±æ€§æ¥ç¡®å®šå“ªä¸€é¡¹ä¼šè¢«åˆ é™¤æ‰ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨<code class="highlighter-rouge">onClick</code>å¤„ç†å™¨ä¹‹å¤–å®šä¹‰å‡½æ•°ï¼Œå¹¶åªå°†å·²å®šä¹‰çš„å‡½æ•°ä¼ åˆ°å¤„ç†å™¨ã€‚</p>

<p>æˆ‘ä»¬éœ€è¦å®ŒæˆonDismiss()çš„åŠŸèƒ½ï¼Œå®ƒé€šè¿‡idæ¥æ ‡ç¤ºå“ªä¸€é¡¹éœ€è¦è¢«åˆ é™¤ã€‚æ­¤å‡½æ•°ç»‘å®šåˆ°ç´¯ï¼Œå› æ­¤ç§°ä¸ºç±»æ–¹æ³•ã€‚</p>

<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è®¿é—®å®ƒä½¿ç”¨this.onDismiss() è€Œä¸æ˜¯onDismiss()ã€‚</p>

<p>thiså¯¹è±¡æ˜¯ç±»çš„å®ä¾‹, ä¸ºäº†å°†onDismiss() å®šä¹‰ä¸ºç±»æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šå®ƒ.</p>

<p>ä¸¾ä¸ªæœ‰ç‚¹å¤§çš„ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">list</span><span class="p">,</span>
    <span class="p">}</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">onDimiss</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
      	<span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">}</span><span class="o">&gt;</span>
          	<span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
            	<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">url</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">author</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">num_con</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">num</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
            	<span class="p">&lt;</span><span class="nt">buttion</span> 
                <span class="na">onClick=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">)</span><span class="si">}</span>
                <span class="na">type=</span><span class="s2">"button"</span>
              <span class="p">&gt;</span>
              onDismiss
              <span class="p">&lt;/</span><span class="nt">buttion</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="err">/</span><span class="nt">div</span><span class="p">&gt;</span>
        });<span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç±»ä¸­å®šä¹‰å®ƒçš„åŠŸèƒ½å’Œä¸šåŠ¡é€»è¾‘ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">list</span><span class="p">,</span>
    <span class="p">}</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">onDismiss</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">....</span>
  <span class="p">}</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å®šä¹‰æ–¹æ³•å†…éƒ¨çš„åŠŸèƒ½ã€‚æ€»çš„æ¥è¯´æˆ‘ä»¬å¸Œæœ›ä»åˆ—è¡¨ä¸­åˆ é™¤ç”±idæ ‡è¯†çš„é¡¹ï¼Œå¹¶ä¸”ä¿å­˜æ›´æ–°åçš„åˆ—è¡¨åˆ°stateä¸­ã€‚éšåè¿™ä¸ªæ›´æ–°ååˆ—è¡¨è¢«ä½¿ç”¨åˆ°å†æ¬¡è¿è¡Œçš„render()æ–¹æ³•ä¸­å¹¶æ¸²æŸ“ï¼Œæœ€åè¿™ä¸ªè¢«åˆ é™¤é¡¹å°±ä¸å†æ˜¾ç¤ºäº†ã€‚</p>

<p>ä¸¾ä¸ªä¸­ç­‰ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">updatedList</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span> <span class="nx">isNotId</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span> <span class="o">!==</span> <span class="nx">id</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠ½å–å‡½æ•°å¹¶å°†å…¶ä¼ é€’ç»™filterå‡½æ•°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">isNotId</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span> <span class="o">!==</span> <span class="nx">id</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="kd">const</span> <span class="nx">updatedList</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">isNotId</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å¦å¤–ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ES6çš„ç®­å¤´å‡½æ•°è®©ä»£ç æ›´ç®€æ´ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">isNotId</span> <span class="o">=</span> <span class="nx">item</span> <span class="o">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span> <span class="o">!==</span> <span class="nx">id</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">updatedList</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">isNotId</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç”šè‡³å¯ä»¥å†…è”åˆ°ä¸€è¡Œå®Œæˆã€‚</p>

<pre><code class="language-Â react">onDismiss(id) {
  const updatedList = this.state.list.filter(item =&gt; item.objectID !== id);
}
</code></pre>

<p>ç°åœ¨å·²ç»ä»åˆ—è¡¨ä¸­åˆ é™¤äº†ç‚¹å‡»é¡¹ï¼Œä½†æ˜¯stateè¿˜æ²¡æœ‰æ›´æ–°ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æœ€åä½¿ç”¨ç±»æ–¹æ³•<strong>setState();</strong> æ¥æ›´æ–°ç»„ä»¶stateä¸­çš„åˆ—è¡¨äº†ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">isNotId</span> <span class="o">=</span> <span class="nx">item</span> <span class="o">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span> <span class="o">!==</span> <span class="nx">id</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">updatedList</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">isNotId</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="na">list</span><span class="p">:</span> <span class="nx">updatedList</span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è¿™å°±æ˜¯Reactä¸­çš„å•å‘æ•°æ®æµã€‚</p>

<p>æˆ‘ä»¬åœ¨ç•Œé¢é€šè¿‡onClickè§¦å‘ä¸€ä¸ªåŠ¨ä½œï¼Œå†é€šè¿‡å‡½æ•°æˆ–ç±»æ–¹æ³•ä¿®æ”¹ç»„ä»¶çš„state, æœ€åç»„ä»¶çš„render() æ–¹æ³•å†æ¬¡è¿è¡Œå¹¶æ›´æ–°ç•Œé¢ã€‚</p>

<p><img src="/Users/elin/Library/Application Support/typora-user-images/image-20190813231517225.png" alt="image-20190813231517225" /></p>

<h2 id="ç»‘å®š">ç»‘å®š</h2>

<p>å½“ä½¿ç”¨ES6ç¼–å†™çš„Reactç»„ä»¶æ—¶ï¼Œäº†è§£JavaScriptç±»çš„ç»‘å®šä¼šéå¸¸é‡è¦ã€‚</p>

<p>æˆ‘ä»¬å·²ç»åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šäº†onDismiss() æ–¹æ³•</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">list</span><span class="p">,</span>
    <span class="p">}</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">().</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç»‘å®šçš„æ­¥éª¤æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºç±»æ–¹æ³•ä¸ä¼šè‡ªåŠ¨ç»‘å®šthisåˆ°å®ä¾‹ä¸Šã€‚</p>

<p>æˆ‘ä»¬ä¸¾ä¸ªé”™è¯¯çš„å°ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">ExplainBindingsComponent</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">onClickMe</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">button</span> 
        <span class="na">onClick=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onClickMe</span><span class="si">}</span>
      	<span class="na">type=</span><span class="s2">"button"</span>
      <span class="p">&gt;</span>
      Click Me
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç»„ä»¶è™½ç„¶èƒ½æ­£ç¡®æ¸²æŸ“ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šåœ¨å¼€å‘è°ƒè¯•æ§åˆ¶å°ä¸­å¾—åˆ°undefinedã€‚</p>

<p>è¿™æ˜¯ä½¿ç”¨Reactä¸»è¦çš„bugæ¥æºï¼Œå› ä¸ºå½“æˆ‘ä»¬æƒ³åœ¨ç±»æ–¹æ³•ä¸­è®¿é—®this.stateæ—¶ï¼Œç”±äºthisæ˜¯undefinedæ‰€æœ‰å¹¶ä¸èƒ½è¢«æ£€ç´¢åˆ°ã€‚</p>

<p>æ‰€ä»¥ ä¸ºäº†ç¡®ä¿thisåœ¨ç±»æ”¾å•Šæ”¾ä¸­æ˜¯å¯è®¿é—®çš„ï¼Œæˆ‘ä»¬éœ€è¦å°†thisç»‘å®šåˆ°ç±»æ–¹æ³•ä¸Šã€‚</p>

<p>ä¸¾ä¸ªæ­£ç¡®çš„ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">ExplainBindingsComponent</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">();</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">onClickMe</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onClickMe</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">onClickMe</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onClickMe</span><span class="si">}</span>
        <span class="na">type=</span><span class="s2">"button"</span>
      <span class="p">&gt;</span>
      Click Me
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å†æ¬¡å°è¯•ç‚¹å‡»æŒ‰é’®ï¼Œè¿™ä¸ªthiså¯¹è±¡å°±æŒ‡å‘äº†ç±»çš„å®ä¾‹ã€‚</p>

<p>æˆ‘ä»¬ç°åœ¨å°±å¯ä»¥è®¿é—®åˆ°this.stateäº†</p>

<p>ç±»æ–¹æ³•çš„ç»‘å®šä¹Ÿå¯ä»¥å†™åœ¨å…¶ä»–åœ°æ–¹ï¼Œæ¯”å¦‚å†™åœ¨render()å‡½æ•°ä¸­ã€‚</p>

<p>ğŸŒ°ä¸¾èµ·æ¥</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">ExplainBindingsComponent</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">onClickMe</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onClickMe</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="si">}</span>
        <span class="na">type=</span><span class="s2">"button"</span>
      <span class="p">&gt;</span>
        Click Me
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ä½†æ˜¯æˆ‘ä»¬<strong>åº”è¯¥é¿å…</strong>è¿™æ ·åšï¼Œå› ä¸ºå®ƒä¼šåœ¨æ¯æ¬¡render()æ–¹æ³•æ‰§è¡Œæ—¶ç»‘å®šç±»æ–¹æ³•ã€‚</p>

<p>æ€»ç»“æ¥è¯´ç»„ä»¶æ¯æ¬¡è¿è¡Œæ›´æ–°æ—¶éƒ½ä¼šå¯¼è‡´<strong>æ€§èƒ½æ¶ˆè€—</strong>ã€‚</p>

<p>å½“åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šæ—¶ï¼Œ<strong>ç»‘å®šåªä¼šåœ¨ç»„ä»¶å®ä¾‹åŒ–æ—¶è¿è¡Œä¸€æ¬¡</strong>ï¼Œè¿™æ ·åšæ˜¯ä¸€ä¸ªæ›´å¥½çš„æ–¹å¼ã€‚</p>

<p>ä¸¾ä¸ªğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">ExplainBindingsComponent</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">();</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">onClickMe</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onClickMe</span><span class="si">}</span>
        <span class="na">type=</span><span class="s2">"button"</span>
      <span class="p">&gt;</span>
      	Click Me
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æˆ‘ä»¬åŒæ ·ä¹Ÿåº”è¯¥<strong>é¿å…è¿™ç§å†™æ³•</strong>ï¼›å› ä¸ºéšç€æ—¶é—´çš„æ¨ç§»å®ƒä¼šè®©æˆ‘ä»¬çš„æ„é€ å‡½æ•°å˜å¾—æ··ä¹±ã€‚</p>

<p><strong>æ„é€ å‡½æ•°çš„ç›®çš„</strong>åªæ˜¯å®ä¾‹åŒ–ä½ çš„ç±»ä»¥åŠæ‰€æœ‰çš„å±æ€§</p>

<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åº”è¯¥æŠŠä¸šåŠ¡é€»è¾‘åº”è¯¥å®šä¹‰åœ¨æ„é€ å‡½æ•°ä¹‹å¤–ã€‚</p>

<p>æ­£ç¡®å§¿åŠ¿ä¸¾ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">ExplainBindingsComponent</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">();</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">doSomething</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">doSomething</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">doSomethingElse</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">doSomethingElse</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">....</span>
  <span class="p">}</span>
  
  <span class="nx">doSomethingElse</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">....</span>
  <span class="p">}</span>
  
  <span class="p">...</span>
<span class="p">}</span>

</code></pre></div></div>

<p>æœ€åæä¸€ä¸‹ï¼Œç±»æ–¹æ³•å¯ä»¥é€šè¿‡ES6çš„ç®­å¤´å‡½æ•°åšåˆ°è‡ªåŠ¨åœ°ç»‘å®š</p>

<p>ä¸¾ä¸ªğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">ExplainBindingsComponent</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">onClickMe</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onClickMe</span><span class="si">}</span>
        <span class="na">type=</span><span class="s2">"button"</span>
      <span class="p">&gt;</span>
      	Click Me
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å¦‚æœåœ¨æ„é€ å‡½æ•°ä¸­çš„é‡å¤ç»‘å®šå¯¹æˆ‘ä»¬æœ‰æ‰€ å›°æ‰°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æ›¿ä»£ã€‚</p>

<p>Reactçš„å®˜æ–¹æ–‡æ¡£ä¸­åšæŒ<strong>åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šç±»æ–¹æ³•</strong>ã€‚</p>

<h2 id="äº‹ä»¶å¤„ç†">äº‹ä»¶å¤„ç†</h2>

<p>è®©æˆ‘ä»¬å¯¹åŒ€é€Ÿçš„äº‹ä»¶å¤„ç†æœ‰æ›´æ·±çš„äº†è§£ï¼Œåœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸‹é¢çš„æŒ‰é’®æ¥ä»åˆ—è¡¨ä¸­å¿½ç•¥ä¸€é¡¹å†…å®¹ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">button</span>
  <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">)}</span>
  <span class="nx">type</span><span class="o">=</span><span class="s2">"button"</span>
<span class="o">&gt;</span>
	<span class="nx">Dismiss</span>
<span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span></code></pre></div></div>

<p>ä¸Šé¢å·²ç»æ˜¯ä¸€ä¸ªå¤æ‚çš„ä¾‹å­äº†ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»<strong>ä¼ é€’ä¸€ä¸ªå‚æ•°åˆ°ç±»çš„æ–¹æ³•</strong>ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å®ƒå°è£…åˆ°å¦ä¸€ä¸ª(ç®­å¤´)å‡½æ•°ä¸­ï¼ŒåŸºæœ¬ä¸Šï¼Œç”±äºè¦ä¼ é€’ç»™äº‹ä»¶å¤„ç†å™¨ä½¿ç”¨ï¼Œå› æ­¤å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="o">&lt;</span><span class="nx">button</span> 
  <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">)}</span>
  <span class="nx">type</span><span class="o">=</span><span class="s2">"button"</span>
<span class="o">&gt;</span>
	<span class="nx">Dismiss</span>
<span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span><span class="p">...</span>
</code></pre></div></div>

<p>å½“ä½¿ç”¨onClick={doSomething()} æ—¶ï¼ŒdoSomething()å‡½æ•°ä¼šåœ¨æµè§ˆå™¨æ‰“å¼€ç¨‹åºæ—¶ç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥ç‚¹å‡»æŒ‰é’®æ—¶ä¸ä¼šæœ‰ä»»ä½•äº‹å‘ç”Ÿã€‚</p>

<p>ä½†å½“ä½¿ç”¨onClick={doSomething}æ—¶ï¼Œå› ä¸ºdoSomethingæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥å®ƒä¼šåœ¨ç‚¹å‡»æŒ‰é’®æ—¶æ‰§è¡Œã€‚</p>

<p>ç„¶è€Œï¼Œè¿™ä¸ªç±»æ–¹æ³•å¦‚æœéœ€è¦å»æ¥æ”¶item.objectIDå±æ€§æ¥è¯†åˆ«é‚£ä¸ªå°†è¦è¢«å¿½ç•¥çš„é¡¹ã€‚æ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒéœ€è¦è¢«å°è£…åˆ°å¦ä¸€ä¸ªå‡½æ•°ä¸­æ¥ä¼ é€’è¿™ä¸ªå±æ€§ã€‚</p>

<p>ä¸¾ä¸ªğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="o">&lt;</span><span class="nx">button</span>
  <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">)}</span>
  <span class="nx">type</span><span class="o">=</span><span class="s2">"button"</span>
<span class="o">&gt;</span>
	<span class="nx">Dismiss</span>
<span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span><span class="p">...</span>
</code></pre></div></div>

<p>è¿˜æœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åœ¨å¤–éƒ¨å®šä¹‰ä¸€ä¸ªåŒ…è£…å‡½æ•°ï¼Œå¹¶ä¸”åªå°†å®šä¹‰çš„å‡½æ•°ä¼ é€’ç»™å¤„ç†ç¨‹åºã€‚å› ä¸ºéœ€è¦è®¿é—®ç‰¹å®šçš„åˆ—è¡¨é¡¹ï¼Œæ‰€ä»¥å®ƒå¿…é¡»ä½äºmapå‡½æ•°å—çš„å†…éƒ¨</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
      	<span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">onHandleDismiss</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectId</span><span class="p">);</span>
          <span class="k">return</span> <span class="p">(</span>
          	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">key=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="si">}</span><span class="p">&gt;</span>
            	<span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
              	<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">url</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
              <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">author</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">num_comments</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">points</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
              
              <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
              	<span class="p">&lt;</span><span class="nt">button</span> 
                  <span class="na">onClick=</span><span class="si">{</span><span class="nx">onHandleDismiss</span><span class="si">}</span>
                  <span class="na">type=</span><span class="s2">"button"</span>
                <span class="p">&gt;</span>
                	Dismiss
                <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
              <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
          <span class="p">);</span>
        <span class="p">})</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æ¯•ç«Ÿï¼Œä¼ ç»™å…ƒç´ äº‹ä»¶å¤„ç†å™¨çš„å†…å®¹å¿…é¡»æ˜¯å‡½æ•°ã€‚</p>

<p>ä¸¾ä¸ªğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
      	<span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span>
          	<span class="p">&lt;</span><span class="nt">button</span> 
              <span class="na">onClick=</span><span class="si">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">)</span><span class="si">}</span>
              <span class="na">type=</span><span class="s2">"button"</span>
            <span class="p">&gt;</span>
            	Dismiss
            <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="err">/</span><span class="nt">span</span><span class="p">&gt;</span>
        })<span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å®ƒä¼šåœ¨æµè§ˆå™¨åŠ è½½è¯¥ç¨‹åºæ—¶æ‰§è¡Œï¼Œä½†ç‚¹å‡»æŒ‰é’®æ—¶ä¸ä¼šè¢«è§¦å‘ã€‚æ˜æ˜¾å’Œæˆ‘ä»¬è§„åˆ’çš„ä¸ç¬¦ã€‚</p>

<p>æ‰€ä»¥ï¼Œæ­£ç¡®å§¿åŠ¿ä¸¾ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">button</span>
  <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">);</span>
  <span class="p">}}</span>
  <span class="nx">type</span><span class="o">=</span><span class="s2">"button"</span>
<span class="o">&gt;</span>
	<span class="nx">Dismiss</span>
<span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span></code></pre></div></div>

<p>æ¢æˆç®­å¤´å‡½æ•°ï¼Œä¿æŒç®€æ´</p>

<p>æ¢ä¸ªå§¿åŠ¿ä¸¾ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">button</span>
  <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">)}</span>
  <span class="nx">type</span><span class="o">=</span><span class="s2">"button"</span>
<span class="o">&gt;</span>
	<span class="nx">Click</span> <span class="nx">Me</span>
<span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span></code></pre></div></div>

<p>å¦ä¸€ä¸ªç»å¸¸ä¼šè¢«æåˆ°çš„æ€§èƒ½ç›¸å…³è¯é¢˜æ˜¯åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°çš„å½±å“ã€‚</p>

<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«1000ä¸ªé¡¹ç›®çš„å·¨å¤§æ•°æ®è¡¨ï¼Œæ¯ä¸€è¡Œæˆ–è€…åˆ—åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­éƒ½æœ‰è¿™æ ·ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè¿™ä¸ªæ—¶å€™å°±<strong>éœ€è¦è€ƒè™‘æ€§èƒ½å½±å“</strong>ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªä¸“ç”¨çš„æŒ‰é’®ç»„ä»¶æ¥åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šæ–¹æ³•ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªä¸æˆç†Ÿçš„ä¼˜åŒ–ã€‚</p>

<h2 id="å’Œè¡¨å•äº¤äº’">å’Œè¡¨å•äº¤äº’</h2>

<p>è®©æˆ‘ä»¬åœ¨ç¨‹åºä¸­åŠ å…¥è¡¨å•æ¥ä½“éªŒReactå’Œè¡¨å•äº‹ä»¶çš„äº¤äº’ï¼Œæˆ‘ä»¬å°†åœ¨ç¨‹åºä¸­åŠ å…¥æœç´¢åŠŸèƒ½ï¼Œåˆ—è¡¨ä¼šæ ¹æ®è¾“å…¥æ¡†çš„å†…å®¹å¯¹æ ‡é¢˜è¿›è¡Œè¿‡æ»¤ã€‚</p>

<p>ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨JSXä¸­å®šä¹‰ä¸€ä¸ªå¸¦æœ‰è¾“å…¥æ¡†çš„è¡¨å•ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span><span class="p">(</span>
  	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
    	<span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type=</span><span class="s2">"text"</span><span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="p">....</span>
      <span class="p">})</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>åœ¨ä¸‹é¢çš„åœºæ™¯ä¸­ï¼Œå°†ä¼šä½¿ç”¨åœ¨è¾“å…¥æ¡†ä¸­çš„å†…å®¹ä½œä¸ºæœç´¢å­—æ®µæ¥ä¸´æ—¶è¿‡æ»¤åˆ—è¡¨ã€‚</p>

<p>ä¸ºäº†èƒ½æ ¹æ®è¾“å…¥æ¡†çš„å€¼è¿‡æ»¤åˆ—è¡¨ï¼Œæˆ‘ä»¬éœ€è¦å°†è¾“å…¥æ¡†çš„å€¼å­˜å‚¨åœ¨æˆ‘ä»¬çš„æœ¬åœ°çŠ¶æ€ä¸­ï¼Œ</p>

<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Reactçš„åˆæˆäº‹ä»¶æ¥è®¿é—®äº‹ä»¶è¿”å›å€¼ã€‚</p>

<p>è®©æˆ‘ä»¬ä¸ºè¾“å…¥æ¡†å®šä¸€ä¸ªonChangeå¤„ç†ç¨‹åº</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span><span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
      	<span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
        	<span class="p">&lt;</span><span class="nt">input</span>
            <span class="na">type=</span><span class="s2">"text"</span>
            <span class="na">onChange=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span><span class="si">}</span>
          <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
        ...
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è¿™ä¸ªå‡½æ•°è¢«ç»‘å®šåˆ°ç»„ä»¶ä¸Šï¼Œå› æ­¤å†æ¬¡ç§°ä¸ºä¸€ä¸ªç±»æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰æ–¹æ³•å¹¶bindå®ƒ</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">list</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">onSearchChange</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">}</span>
    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>eventå¯¹è±¡çš„targetå±æ€§ä¸­å¸¦æœ‰è¾“å…¥æ¡†çš„å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨this.setState()æ¥æ›´æ–°æœ¬åœ°çš„æœç´¢è¯çš„çŠ¶æ€äº†ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">onSearchChange</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="na">searchTerm</span><span class="p">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
  <span class="p">}</span>
	<span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æ­¤å¤–ï¼Œæˆ‘ä»¬åº”è¯¥è®°ä½åœ¨æ„é€ å‡½æ•°ä¸­ä¸ºsearchTermå®šä¹‰åˆå§‹çŠ¶æ€ï¼Œè¾“å…¥æ¡†åœ¨å¼€å§‹æ—¶åº”è¯¥æ˜¯ç©ºçš„ï¼Œå› æ­¤åˆå§‹å€¼åº”è¯¥æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">list</span><span class="p">,</span>
      <span class="na">searchTerm</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="p">};</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å…³äºåœ¨Reactç»„ä»¶ä¸­æ›´æ–°çŠ¶æ€çš„ç®€è¦è¯´æ˜ã€‚</p>

<p>Reactçš„this.setState() æ˜¯ä¸€ä¸ªæµ…åˆå¹¶ï¼Œåœ¨æ›´æ–°ä¸€ä¸ªå”¯ä¸€çš„å±æ€§æ—¶ï¼Œä»–ä¼šä¿ç•™çŠ¶æ€å¯¹è±¡ä¸­çš„å…¶ä»–å±æ€§ï¼Œå› æ­¤å³ä½¿æˆ‘ä»¬å·²ç»åœ¨åˆ—è¡¨ä¸­æ’é™¤äº†ä¸€ä¸ªé¡¹ï¼Œåœ¨æ›´æ–°searchTermå±æ€§æ—¶ä¹Ÿä¼šä¿æŒä¸å˜ã€‚</p>

<p>æˆ‘ä»¬éœ€è¦æ›´å…·å­˜å‚¨åœ¨æœ¬åœ°çŠ¶æ€ä¸­çš„è¾“å…¥å­—æ®µè¿›è¡Œè¿‡æ»¤ã€‚</p>

<p>æˆ‘ä»¬å¯ä»¥åœ¨render()æ–¹æ³•ä¸­ï¼Œåœ¨mapæ˜ å°„åˆ—è¡¨ä¹‹å‰ï¼Œæ’å…¥ä¸€ä¸ªè¿‡æ»¤çš„æ–¹æ³•ã€‚</p>

<p>è¿™ä¸ªè¿‡æ»¤æ–¹æ³•å°†åªä¼šåŒ¹é…æ ‡é¢˜å±æ€§ä¸­æœ‰searchTermå†…å®¹çš„åˆ—è¡¨é¡¹ã€‚</p>

<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨filter+mapçš„æ–¹å¼</p>

<p>ä¸¾ä¸ªğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
      	<span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
        	<span class="p">&lt;</span><span class="nt">input</span>
            <span class="na">type=</span><span class="s2">"text"</span>
            <span class="na">onChange=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span><span class="si">}</span>
          <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">filter</span><span class="p">(..).</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="p">...</span>
        <span class="p">})</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å¦ä¸€ç§æ–¹å¼(é«˜é˜¶å‡½æ•°):</p>

<p>ä¸¾èµ·å·¨å¤§çš„ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">isSearched</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//.... return true or false</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è¯¥å‡½æ•°æ¥å—searchTermå¹¶è¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸ºæ‰€æœ‰çš„filterå‡½æ•°éƒ½æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå®ƒçš„è¾“å…¥ï¼Œè¿”å›çš„å‡½æ•°å¯ä»¥è®¿é—®åˆ—è¡¨é¡¹ç›®å¯¹è±¡ï¼Œå› ä¸ºå®ƒæ˜¯ä¼ ç»™filterå‡½æ•°çš„å‡½æ•°ã€‚</p>

<p>è¿”å›çš„å‡½æ•°å°†ä¼šæ ¹æ®å‡½æ•°ä¸­å®šä¹‰çš„æ¡ä»¶å¯¹åˆ—è¡¨è¿›è¡Œè¿‡æ»¤ã€‚</p>

<p>ä¸¾ä¸ªğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">isSearched</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">includes</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">())</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>åªæœ‰æ»¡è¶³åŒ¹é…æ—¶æ‰ä¼šè¿”å›trueå¹¶å°†é¡¹ç›®ä¿ç•™åœ¨åˆ—è¡¨ä¸­ã€‚å½“ä¸åŒ¹é…æ—¶ï¼Œé¡¹ç›®ä¼šä»åˆ—è¡¨ä¸­ç§»é™¤ã€‚ï¼ˆæ³¨æ„å¤§å°å†™é—®é¢˜ï¼‰</p>

<p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªä¸å¯å˜çš„åˆ—è¡¨ï¼Œå¹¶ä½¿ç”¨filterå‡½æ•°è¿”å›ä¸€ä¸ªæ–°åˆ—è¡¨ï¼Œæ‰€ä»¥æœ¬åœ°çŠ¶æ€ä¸­çš„åŸå§‹åˆ—è¡¨æ ¹æœ¬å°±<strong>æ²¡æœ‰è¢«ä¿®æ”¹è¿‡</strong></p>

<p>JavaScriptå†…ç½®çš„includesåŠŸèƒ½ï¼Œå®ƒå·²ç»æ˜¯ä¸€ä¸ªES6çš„ç‰¹æ€§äº†ã€‚</p>

<p>åœ¨ES5ä¸­æˆ‘ä»¬å°†ä½¿ç”¨indexOf()å‡½æ•°æ¥è·å–åˆ—è¡¨ä¸­é¡¹çš„ç´¢å¼•ï¼Œå½“é¡¹ç›®åœ¨åˆ—è¡¨ä¸­æ—¶ï¼ŒindexOf()å°†ä¼šè¿”å›å®ƒçš„ç´¢å¼•ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//ES5</span>
<span class="nx">string</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">pattern</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
<span class="c1">//ES6</span>
<span class="nx">string</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">pattern</span><span class="p">);</span>
</code></pre></div></div>

<p>ä¸Šé¢ä»£ç ä¼˜åŒ–åï¼š</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//ES5</span>
<span class="kd">function</span> <span class="nx">isSearched</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">includes</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">());</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">//ES6</span>
<span class="kd">const</span> <span class="nx">isSearched</span> <span class="o">=</span> <span class="nx">searchTerm</span> <span class="o">=&gt;</span> <span class="nx">item</span> <span class="o">=&gt;</span> 
<span class="p">{</span><span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">includes</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">());}</span>
</code></pre></div></div>

<p>æˆ‘ä»¬ä»æœ¬åœ°çŠ¶æ€ä¸­ä¼ é€’searchTermå±æ€§è¿”å›ä¸€ä¸ªæ ¹æ®æ¡ä»¶è¿‡æ»¤åˆ—è¡¨çš„è¾“å…¥è¿‡æ»¤å‡½æ•°ã€‚ä¹‹åå®ƒä¼šæ˜ å°„è¿‡æ»¤åçš„åˆ—è¡¨ç”¨äºæ˜¾ç¤ºæ¯ä¸ªåˆ—è¡¨é¡¹çš„å…ƒç´ ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
        	<span class="p">&lt;</span><span class="nt">input</span> 
            <span class="na">type=</span><span class="s2">"text"</span>
            <span class="na">onChange=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span><span class="si">}</span>
          <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">isSearched</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">searchTerm</span><span class="p">)).</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="p">...</span>
        <span class="p">})</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="å—æ§ç»„ä»¶">å—æ§ç»„ä»¶</h2>

<p>ä¸€ä¸ªHTMLè¾“å…¥æ ‡ç­¾å¸¦æœ‰ä¸€ä¸ªvalueå±æ€§ï¼Œè¿™ä¸ªå±æ€§é€šå¸¸æœ‰ä¸€ä¸ªä½œä¸ºè¾“å…¥æ¡†çš„æ˜¾ç¤ºã€‚</p>

<p>è¡¨å•å…ƒç´ æ¯”å¦‚&lt;input&gt;,&lt;textarea&gt;å’Œ&lt;select&gt;ä¼šä»¥åŸç”ŸHTMLçš„å½¢å¼ä¿å­˜å®ƒä»¬è‡ªå·±çš„çŠ¶æ€ã€‚</p>

<p>ä¸€æ—¦æœ‰äººä»å¤–éƒ¨åšäº†ä¸€äº›ä¿®æ”¹ï¼Œå®ƒä»¬å°±ä¼šä¿®æ”¹å†…éƒ¨çš„å€¼ï¼Œåœ¨Reactä¸­è¿™è¢«ç§°ä¸º<strong>ä¸å—æ§ç»„ä»¶</strong>ï¼Œå› ä¸ºå®ƒä»¬è‡ªå·±å¤„ç†çŠ¶æ€ã€‚</p>

<p>åœ¨Reactä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ç¡®ä¿è¿™äº›å…ƒç´ å˜ä¸º<strong>å—æ§ç»„ä»¶</strong>ã€‚</p>

<p>ä¸¾ä¸ªğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">searchTerm</span><span class="p">,</span> <span class="nx">list</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
      	<span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
        	<span class="p">&lt;</span><span class="nt">intpu</span> 
            <span class="na">type=</span><span class="s2">"text"</span> 
            <span class="na">onChange=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span><span class="si">}</span>
            <span class="na">value=</span><span class="si">{</span><span class="nx">searchTerm</span><span class="si">}</span>
            <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
        ...
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å°±æ˜¯è¿™æ ·ã€‚ç°åœ¨è¾“å…¥æ¡†çš„å•é¡¹æ•°æ®æµå¾ªç¯æ˜¯è‡ªåŒ…å«çš„ï¼Œç»„ä»¶å†…éƒ¨çŠ¶æ€æ˜¯è¾“å…¥æ¡†çš„å”¯ä¸€æ•°æ®æ¥æºã€‚</p>

<h2 id="æ‹†åˆ†ç»„ä»¶">æ‹†åˆ†ç»„ä»¶</h2>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¤§å‹çš„Appç»„ä»¶ã€‚å®ƒåœ¨ä¸åœåœ°æ‰©å±•ï¼Œæœ€ç»ˆå¯èƒ½ä¼šå˜å¾—æ··ä¹±ã€‚æˆ‘ä»¬å¯ä»¥å¼€å§‹å°†å®ƒæ‹†åˆ†æˆè‹¥å¹²ä¸ªæ›´å°çš„ç»„ä»¶ã€‚</p>

<p>è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ä¸€ä¸ªç”¨äºæœç´¢çš„è¾“å…¥ç»„ä»¶å’Œä¸€ä¸ªç”¨äºå±•ç¤ºçš„åˆ—è¡¨ç»„ä»¶å§ï½ï½ã€‚</p>

<p>ğŸŒ°æ¥äº†ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">searchTerm</span><span class="p">,</span> <span class="nx">list</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
      	<span class="p">&lt;</span><span class="nc">Search</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Table</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æˆ‘ä»¬å¯ä»¥ç»™ç»„ä»¶ä¼ é€’å±æ€§å¹¶åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å®ƒä»¬ã€‚è‡³äºAPPç»„ä»¶ï¼Œå®ƒéœ€è¦ä¼ é€’ç”±æœ¬åœ°çŠ¶æ€(state)æ‰˜ç®¡çš„å±æ€§å’Œå®ƒè‡ªå·±çš„ç±»æ–¹æ³•ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span><span class="nx">searchTerm</span><span class="p">,</span> <span class="nx">list</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
      	<span class="p">&lt;</span><span class="nc">Search</span>
          <span class="na">value=</span><span class="si">{</span><span class="nx">searchTerm</span><span class="si">}</span>
          <span class="na">onChange=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span><span class="si">}</span>
        <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Table</span> 
          <span class="na">list=</span><span class="si">{</span><span class="nx">list</span><span class="si">}</span>
          <span class="na">pattern=</span><span class="si">{</span><span class="nx">searchTerm</span><span class="si">}</span>
          <span class="na">onDismiss=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="si">}</span>
          <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æ¥ç€Appç»„ä»¶å®šä¹‰è¿™äº›ç»„ä»¶ã€‚è¿™äº›ç»„ä»¶ä»ç„¶æ˜¯ES6ç±»ç»„ä»¶ï¼Œå®ƒä»¬ä¼šæ¸²æŸ“å’Œä¹‹å‰ç›¸åŒçš„å…ƒç´ ã€‚</p>

<p>ç¬¬ä¸€ä¸ªæ˜¯Searchç»„ä»¶</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Search</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">onChange</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">;</span>
    
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
      	<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type=</span><span class="s2">"text"</span> <span class="na">value=</span><span class="si">{</span><span class="nx">value</span><span class="si">}</span> <span class="na">onChange=</span><span class="si">{</span><span class="nx">onChange</span><span class="si">}</span><span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç¬¬äºŒä¸ªæ˜¯Tableç»„ä»¶ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Table</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span><span class="nx">list</span><span class="p">,</span> <span class="nx">pattern</span><span class="p">,</span> <span class="nx">onDismiss</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">;</span>
    
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      	<span class="si">{</span><span class="nx">list</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">isSerched</span><span class="p">(</span><span class="nx">pattern</span><span class="p">)).</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectId</span><span class="p">}</span><span class="o">&gt;</span>
          	<span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
            	<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">url</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">author</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">num_comments</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">pointer</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
            	<span class="p">&lt;</span><span class="nt">button</span>
                <span class="na">onClick=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">onDismiss</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">objectID</span><span class="p">)</span><span class="si">}</span>
                <span class="na">type=</span><span class="s2">"button"</span>
                <span class="p">&gt;</span>
              	Dismiss
              <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="err">/</span><span class="nt">div</span><span class="p">&gt;</span>
        })<span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸‰ä¸ªES6ç±»ç»„ä»¶ã€‚propsæ˜¯propertiesçš„ç®€å†™ï¼Œå½“æˆ‘ä»¬åœ¨Appç»„ä»¶é‡Œé¢ä½¿ç”¨å®ƒæ—¶ï¼Œå®ƒæœ‰æˆ‘ä»¬ä¼ é€’ç»™è¿™ä¸ªç»„ä»¶çš„æ‰€æœ‰å€¼ã€‚è¿™æ ·ï¼Œç»„ä»¶å¯ä»¥æ²¿ç€ç»„ä»¶æ ‘å‘ä¸‹ä¼ é€’å±æ€§ã€‚</p>

<p>ä»Appç»„ä»¶ä¸­æå–è¿™äº›ç»„ä»¶ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨åˆ«çš„åœ°æ–¹å»é‡ç”¨å®ƒä»¬äº†ã€‚</p>

<h2 id="å¯ç»„åˆç»„ä»¶">å¯ç»„åˆç»„ä»¶</h2>

<p>åœ¨props å¯¹è±¡ä¸­è¿˜æœ‰ä¸€ä¸ªå°å°çš„å±æ€§å¯ä¾›ä½¿ç”¨<strong>:children</strong> å±æ€§ã€‚é€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å°†å…ƒç´ ä»ä¸Šå±‚ä¼ é€’åˆ°æˆ‘ä»¬çš„ç»„ä»¶ä¸­ï¼Œè¿™äº›å…ƒç´ å¯¹æˆ‘ä»¬çš„ç»„ä»¶æ¥è¯´æ˜¯æœªçŸ¥çš„ï¼Œä½†æ˜¯å´ä¸ºç»„ä»¶ç›¸äº’ç»„åˆæä¾›äº†å¯èƒ½æ€§ã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span><span class="nx">searcgTerm</span><span class="p">,</span> <span class="nx">list</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"App"</span><span class="p">&gt;</span>
      	<span class="p">&lt;</span><span class="nc">Search</span> 
          <span class="na">value=</span><span class="si">{</span><span class="nx">searchTerm</span><span class="si">}</span>
          <span class="na">onChange=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onSearchChange</span><span class="si">}</span>
          <span class="p">&gt;</span>
        Search
        <span class="p">&lt;/</span><span class="nc">Search</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Table</span>
          <span class="na">list=</span><span class="si">{</span><span class="nx">list</span><span class="si">}</span>
          <span class="na">pattern=</span><span class="si">{</span><span class="nx">searchTerm</span><span class="si">}</span>
          <span class="na">onDismiss=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onDismiss</span><span class="si">}</span>
          <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç°åœ¨Searchç»„ä»¶å¯ä»¥ä»propså¯¹è±¡ä¸­è§£æ„å‡ºchildrenå±æ€§ã€‚</p>

<p>ç„¶åå®ƒå°±å¯ä»¥æŒ‡å®šè¿™ä¸ªchildrenåº”è¯¥æ˜¾ç¤ºåœ¨å“ªé‡Œã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Search</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">onChange</span><span class="p">,</span> <span class="nx">children</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
      	<span class="si">{</span><span class="nx">children</span><span class="si">}</span> <span class="p">&lt;</span><span class="nt">input</span> 
           <span class="na">type=</span><span class="s2">"text"</span> 
           <span class="na">value=</span><span class="si">{</span><span class="nx">value</span><span class="si">}</span> 
           <span class="na">onChange=</span><span class="si">{</span><span class="nx">onChange</span><span class="si">}</span>
        <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬åº”è¯¥å¯ä»¥åœ¨è¾“å…¥æ¡†æ—è¾¹çœ‹åˆ°è¿™ä¸ªâ€Searchâ€æ–‡æœ¬äº†ã€‚</p>

<p><strong>å®ƒä¸ä»…å¯ä»¥æŠŠæ–‡æœ¬ä½œä¸ºå­å…ƒç´ ä¼ é€’ï¼Œè¿˜å¯ä»¥å°†ä¸€ä¸ªå…ƒç´ æˆ–è€…å…ƒç´ æ ‘(å®ƒè¿˜å¯ä»¥å†æ¬¡å°è£…æˆç»„ä»¶) ä½œä¸ºå­å…ƒç´ ä¼ é€’ã€‚</strong></p>

<h2 id="å¯å¤ç”¨ç»„ä»¶">å¯å¤ç”¨ç»„ä»¶</h2>

<p>å¯å¤ç”¨å’Œå¯ç»„åˆç»„ä»¶è®©æˆ‘ä»¬èƒ½å¤Ÿæ€è€ƒåˆç†çš„ç»„ä»¶åˆ†å±‚ï¼Œå®ƒä»¬æ˜¯Reactè§†å›¾çš„åŸºç¡€ã€‚</p>

<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å¤ç”¨Searchå’ŒTableç»„ä»¶äº†ã€‚ç”šè‡³Appç»„ä»¶éƒ½æ˜¯å¯å¤ç”¨çš„äº†ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åœ¨åˆ«çš„åœ°æ–¹é‡æ–°å®ä¾‹åŒ–å®ƒã€‚</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Button</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span>
      <span class="nx">onClick</span><span class="p">,</span>
      <span class="nx">className</span><span class="p">,</span>
      <span class="nx">children</span><span class="p">,</span>
    <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">;</span>
    
    <span class="k">return</span> <span class="p">(</span>
    	<span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick=</span><span class="si">{</span><span class="nx">onClick</span><span class="si">}</span>
        <span class="na">className=</span><span class="si">{</span><span class="nx">className</span><span class="si">}</span>
        <span class="na">type=</span><span class="s2">"button"</span>
        <span class="p">&gt;</span>
      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Buttonç»„ä»¶æ‹¥æœ‰å•ä¸€å¯ä¿¡æ•°æ®æºã€‚ä¸€ä¸ªButtonç»„ä»¶å¯ä»¥ç«‹å³é‡æ„æ‰€æœ‰button.ä¸€ä¸ªButtonç»Ÿæ²»æ‰€æœ‰çš„button</p>

<ul>
  <li>å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶ï¼šè¿™ç±»ç»„ä»¶å°±æ˜¯å‡½æ•°ï¼Œå®ƒä»¬æ¥æ”¶ä¸€ä¸ªè¾“å…¥å¹¶è¿”å›ä¸€ä¸ªè¾“å‡ºã€‚è¾“å…¥æ˜¯props,è¾“å‡ºå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„JSXç»„ä»¶å®ä¾‹ã€‚ç„¶è€Œï¼Œå‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶æ˜¯å‡½æ•°(å‡½æ•°å¼çš„), å¹¶ä¸”å®ƒä»¬æ²¡æœ‰æœ¬åœ°çŠ¶æ€(æ— çŠ¶æ€çš„)ã€‚æˆ‘ä»¬ä¸èƒ½é€šè¿‡this.stateæˆ–è€…this.setState()æ¥è®¿é—®æˆ–è€…æ›´æ–°çŠ¶æ€ï¼Œå› ä¸ºè¿™é‡Œæ²¡æœ‰thiså¯¹è±¡ã€‚æ­¤å¤–ï¼Œå®ƒä¹Ÿæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</li>
  <li>ES6ç±»ç»„ä»¶ï¼šåœ¨ä½ çš„å››ä¸ªç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨è¿‡è¿™ç±»ç»„ä»¶äº†ã€‚åœ¨ç±»çš„å®šä¹‰ä¸­ï¼Œå®ƒä»¬ç»§æ‰¿è‡ªReactç»„ä»¶ã€‚extendä¼šæ³¨å†Œæ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåªè¦åœ¨React component APIä¸­ï¼Œéƒ½å¯ä»¥åœ¨ä½ çš„ç»„ä»¶ä¸­ä½¿ç”¨ã€‚é€šè¿‡ä½¿ç”¨this.stateå’Œthis.setState().æˆ‘ä»¬å¯ä»¥åœ¨ES6ç±»ç»„ä»¶ä¸­å‚¨å­˜å’Œæ“æ§stateã€‚</li>
</ul>

<p><strong>ä»€ä¹ˆæ—¶å€™æ›´é€‚åˆä½¿ç”¨å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿ</strong></p>

<p>å½“æˆ‘ä»¬ä¸éœ€è¦æœ¬åœ°çŠ¶æ€æˆ–è€…ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å°±åº”è¯¥ä½¿ç”¨å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶ã€‚æœ€å¼€å§‹ä¸€èˆ¬ä½¿ç”¨å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶æ¥å®ç°æˆ‘ä»¬çš„ç»„ä»¶ï¼Œä¸€æ—¦æˆ‘ä»¬éœ€è¦è®¿é—®stateæˆ–è€…ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ—¶ã€‚æˆ‘ä»¬å°±å¿…é¡»è¦å°†å®ƒé‡æ„æˆä¸€ä¸ªES6ç±»ç»„ä»¶ã€‚</p>

<p>ä¸¾ä¸€ä¸ª<strong>ES6è½¬å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶</strong>çš„å·¨å¤§çš„ğŸŒ°</p>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Search</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">onChange</span><span class="p">,</span> <span class="nx">children</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
    	<span class="si">{</span><span class="nx">children</span><span class="si">}</span> <span class="p">&lt;</span><span class="nt">input</span> 
                   <span class="na">type=</span><span class="s2">"text"</span>
                   <span class="na">value=</span><span class="si">{</span><span class="nx">value</span><span class="si">}</span>
                   <span class="na">onChange=</span><span class="si">{</span><span class="nx">onChange</span><span class="si">}</span>
                   <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-react highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">Search</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">onChange</span><span class="p">,</span> <span class="nx">children</span> <span class="p">})</span> <span class="o">=&gt;</span> 
<span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
	<span class="si">{</span><span class="nx">children</span><span class="si">}</span> <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type=</span><span class="s2">"text"</span> <span class="na">value=</span><span class="si">{</span><span class="nx">value</span><span class="si">}</span> <span class="na">onChange=</span><span class="si">{</span><span class="nx">onChange</span><span class="si">}</span><span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div></div>

<h2 id="ç»™ç»„ä»¶å£°æ˜æ ·å¼">ç»™ç»„ä»¶å£°æ˜æ ·å¼</h2>

<p>æˆ‘ä»¬å¯ä»¥å¤ç”¨src/App.csså’Œsrc/index.cssæ–‡ä»¶ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯ç”¨create-react-appæ¥åˆ›å»ºçš„ï¼Œæ‰€ä»¥è¿™äº›æ–‡ä»¶åº”è¯¥å·²ç»åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­äº†ã€‚å®ƒä»¬åº”è¯¥ä¹Ÿè¢«å¼•å…¥åˆ°æˆ‘ä»¬çš„src/App.jså’Œsrc/index.jsæ–‡ä»¶ä¸­äº†ã€‚</p>

<h2 id="æ€»ç»“å›é¡¾">æ€»ç»“å›é¡¾</h2>

<ul>
  <li>React
    <ul>
      <li>ä½¿ç”¨this.stateå’ŒsetState()æ¥ç®¡ç†æˆ‘ä»¬çš„å†…éƒ¨ç»„ä»¶çŠ¶æ€</li>
      <li>å°†å‡½æ•°æˆ–è€…ç±»æ–¹æ³•ä¼ é€’åˆ°æˆ‘ä»¬çš„å…ƒç´ å¤„ç†å™¨</li>
      <li>åœ¨Reactä¸­ä½¿ç”¨è¡¨å•æˆ–è€…äº‹ä»¶æ¥æ·»åŠ äº¤äº’</li>
      <li>åœ¨Reactä¸­å•å‘æ•°æ®æµæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µ</li>
      <li>æ‹¥æŠ±controlled components</li>
      <li>é€šè¿‡children å’Œå¯å¤ç”¨ç»„ä»¶æ¥ç»„åˆç»„ä»¶</li>
      <li>ES6ç±»ç»„ä»¶å’Œå‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶çš„ä½¿ç”¨æ–¹æ³•å’Œå®ç°</li>
      <li>ç»™ä½ çš„ç»„ä»¶å£°æ˜æ ·å¼çš„æ–¹å¼</li>
    </ul>
  </li>
  <li>ES6
    <ul>
      <li>ç»‘å®šåˆ°ä¸€ä¸ªç±»çš„å‡½æ•°å«ä½œç±»æ–¹æ³•</li>
      <li>è§£æ„å¯¹è±¡å’Œæ•°ç»„</li>
      <li>é»˜è®¤å‚æ•°</li>
    </ul>
  </li>
  <li>General
    <ul>
      <li>é«˜é˜¶å‡½æ•°</li>
    </ul>
  </li>
</ul>

  <!-- å¼•å…¥shareæ¨¡å— -->
  
  <div class="social-share-wrapper">
    <div class="social-share"></div>
  </div>


<!-- share.js -->
<script src="/assets/js/social-share.min.js"></script>
<script>
  socialShare('.social-share', {
    sites: [
      
        'qq'
        ,
        
      
        'wechat'
        ,
        
      
        'weibo'
        ,
        
      
        'twitter'
        ,
        
      
        'facebook'
        
      
    ],
    wechatQrcodeTitle: "åˆ†äº«åˆ°å¾®ä¿¡æœ‹å‹åœˆ",
    wechatQrcodeHelper: 'æœŸå¾…åœ¨æœ‹å‹åœˆè§åˆ°è¿™ç¯‡æ–‡ç« '
  });
</script>

</div>

<!-- åº•éƒ¨é”šç‚¹ -->
<a id="htmldown" name="htmldown"></a>
<!-- å¼•å…¥è¯„è®ºæ¨¡å— -->



    <section class="post-footer-item comment">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zNDI2OS8xMDgwNg=="></div>
    </section>

    <!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
    <script type="text/javascript">
       (function(d, s) {
           var j, e = d.getElementsByTagName(s)[0];

           if (typeof LivereTower === 'function') { return; }

           j = d.createElement(s);
           j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
           j.async = true;

           e.parentNode.insertBefore(j, e);
       })(document, 'script');
    </script>
    <noscript>ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
    <!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->





<!-- å¼•å…¥gotoæ¨¡å— -->
<div class="bounceInRight animated go">
  <a title="é¡¶éƒ¨åˆ‡æ¢é¡µé¢" class="gototop" href="#htmlup" target="_self">
    <div class="box" style="font-family:'ffad_matroregular';">
        Top
    </div>
  </a>
  <a title="åº•éƒ¨æœ‰livereè¯„è®ºå“¦" class="gotobottom" href="#htmldown" target="_self">
    <div class="box" style="font-family:'ffad_matroregular';">
        Foot
    </div>
  </a>
</div>

<!-- å¼•å…¥é¡µé¢åº•éƒ¨æ¨¡å— -->
<footer id="bottom">
  <br>
  <span>Elin159 Â©
  
  
    2018
    -
  
  2020
  <br>
  Powered by <a href="https://www.jekyll.com.cn/">Jekyll</a> | <a href="https://github.com/Elin159/HardCandy-Jekyll">Elin159</a>
  <br>
  ç²¤ICPå¤‡19068010å·-1
  </span>
</footer>


<!-- å¼•ç”¨wow.jsçš„åŠ¨ç”»æ•ˆæœ -->
<script src="/assets/js/wow.js"></script>
<script>
    var wow = new WOW({
        boxClass: 'wow',
        animateClass: 'animated',
        // offset: 600,
        mobile: true,
        live: true
    });
    wow.init();
</script>
<!-- é¡µé¢åˆ·æ–°å›åˆ°é¡¶éƒ¨ -->
<script>
    window.onbeforeunload = function(){
        //åˆ·æ–°åé¡µé¢è‡ªåŠ¨å›åˆ°é¡¶éƒ¨
        document.documentElement.scrollTop = 0;  //ieä¸‹
        document.body.scrollTop = 0;  //éie
    }
</script>
<script src="/assets/js/main.js"></script>
</body>
</html>
