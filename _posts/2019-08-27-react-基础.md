---
layout: post
author: Elin159
title:  "reacté˜¶æ®µ1"
date:   2019-08-27 16:42:07
categories: xdh
description: ""
image: 'https://images.pexels.com/photos/169573/pexels-photo-169573.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500%201x,%20https://images.pexels.com/photos/169573/pexels-photo-169573.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500%202x'
published: true
---
# ReactåŸºç¡€

æœ¬ç« å°†æŒ‡å¯¼ä½ äº†è§£Reactçš„åŸºç¡€çŸ¥è¯†ã€‚ç”±äºé™æ€ç»„ä»¶ä¼šæœ‰äº›æ¯ç‡¥ï¼Œæ‰€ä»¥è¿™ç« çš„å†…å®¹ä¼šåŒ…å«ç»„ä»¶çš„çŠ¶æ€äºäº¤äº’ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†å­¦ä¹ ä½¿ç”¨ä¸åŒæ–¹å¼å£°æ˜ç»„ä»¶ä»¥åŠå¦‚ä½•ä¿æŒç»„ä»¶çš„å¯ç»„åˆå‹å’Œå¯å¤ç”¨æ€§ã€‚å‡†å¤‡å¥½åˆ›é€ æˆ‘ä»¬è‡ªå·±çš„ç»„ä»¶å§ã€‚



## ç»„ä»¶å†…å®¹çŠ¶æ€

ç»„ä»¶å†…éƒ¨çŠ¶æ€ä¹Ÿè¢«ç§°ä¸ºå±€éƒ¨çŠ¶æ€ï¼Œå…è®¸æˆ‘ä»¬ä¿å­˜ã€ä¿®æ”¹å’Œåˆ é™¤å­˜å‚¨åœ¨ç»„ä»¶å†…éƒ¨çš„å±æ€§ã€‚ä½¿ç”¨ES6ç±»ç»„ä»¶å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ç»„ä»¶çš„çŠ¶æ€ã€‚æ„é€ å‡½æ•°åªä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡ã€‚

è®©æˆ‘ä»¬å¼•å…¥ç±»æ„é€ å‡½æ•°å§ï½ï¼›

ä¸¾ä¸ªå°ğŸŒ°

```react
class App extends Component {
  constructor(props) {
    super(props);
  }
  
  ...
  
}
```

å½“æˆ‘ä»¬ä½¿ç”¨ES6ç¼–å†™çš„ç»„ä»¶æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œå®ƒéœ€è¦å¼ºåˆ¶è°ƒç”¨super();æ–¹æ³•ï¼Œå› ä¸ºè¿™ä¸ªAppç»„ä»¶æ˜¯Componentçš„å­ç±»ã€‚å› æ­¤åœ¨æˆ‘ä»¬çš„Appç»„ä»¶è¦å£°æ˜extends Componentã€‚

æˆ‘ä»¬ä¹Ÿå¯ä»¥è°ƒç”¨super(props); å®ƒä¼šåœ¨æˆ‘ä»¬çš„æ„é€ å‡½æ•°ä¸­è®¾ç½®this.props ä»¥ä¾›åœ¨æ„é€ å‡½æ•°ä¸­è®¿é—®å®ƒä»¬ã€‚

å¦åˆ™å½“åœ¨æ„é€ å‡½æ•°ä¸­è®¿é—®this.props,ä¼šå¾—åˆ°undefinedã€‚

ä¸¾ä¸ªå°ğŸŒ°

```react
const list = [
  {
    title:'React',
    url:'https://facebook.github.io/react/',
    author:'Jordan Walke',
    num_comments:3,
    points:4,
    objectID:0,
  },
  ...
];
  
	class App extends Component {
  	constructor(props) {
      super(props);
      
      this.state = {
        list:list,
      }
    }
		...
  }  
  
```

stateé€šè¿‡ä½¿ç”¨thisç»‘å®šåœ¨ç±»ä¸Šã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ•´ä¸ªç»„ä»¶ä¸­è®¿é—®åˆ°stateã€‚ä¾‹å¦‚å®ƒå¯ä»¥ç”¨åœ¨render() æ–¹æ³•ä¸­ã€‚æ­¤å‰æˆ‘ä»¬å·²ç»åœ¨render()æ–¹æ³•ä¸­æ˜ å°„ä¸€ä¸ªåœ¨ç»„ä»¶å¤–å®šä¹‰é™æ€åˆ—è¡¨ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨stateé‡Œçš„listäº†ã€‚

ä¸¾ä¸€ä¸ªä¸­ç­‰ğŸŒ°

```react
class App extends Component {
  ...
  
  render() {
    return (
      <div className="App">
        {this.state.list.map(item => {
          <div key={item.objectID}>
          	<span>
            	<a href={item.url}>{item.title}</a>
            </span>
            <span>{item.author}</span>
            <span>{item.num_comments}</span>
            <span>{item.points}</span>
          </div>
        })}
      </div>
    );
  }
}
```



ç°åœ¨listæ˜¯ç»„ä»¶çš„ä¸€éƒ¨åˆ†ã€‚å®ƒé©»ç•™åœ¨ç»„ä»¶çš„stateä¸­ã€‚

æˆ‘ä»¬å¯ä»¥ä»listä¸­æ·»åŠ ã€ä¿®æ”¹æˆ–è€…åˆ é™¤åˆ—è¡¨é¡¹ã€‚

æ¯æ¬¡æˆ‘ä»¬ä¿®æ”¹ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ï¼Œç»„ä»¶çš„renderæ–¹æ³•ä¼šå†æ¬¡è¿è¡Œã€‚

è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç®€å•åœ°ä¿®æ”¹ç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼Œç¡®ä¿ç»„ä»¶é‡æ–°æ¸²æŸ“å¹¶ä¸”å±•ç¤ºä»å†…éƒ¨çŠ¶æ€è·å–åˆ°çš„æ­£ç¡®æ•°æ®ã€‚

âš ï¸æ³¨æ„ï¼šä¸è¦ç›´æ¥**ä¿®æ”¹state**ã€‚æˆ‘ä»¬å¿…é¡»ä½¿ç”¨**setState()**æ–¹æ³•æ¥ä¿®æ”¹å®ƒã€‚

## ES6å¯¹è±¡åˆå§‹åŒ–

åœ¨ES6ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å†™å±æ€§æ›´åŠ ç®€æ´åœ°åˆå§‹åŒ–å¯¹è±¡ã€‚

ä¸¾ä¸ªå°ğŸŒ°

```react
const name = 'Robin';

const user = {
  name:name,
};
```

å½“æˆ‘ä»¬çš„å¯¹è±¡ä¸­çš„å±æ€§åä¸å˜é‡åç›¸åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹çš„æ“ä½œï¼š

```react
const name = 'Robin';

const user = {
  name,
};
```

åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·åšã€‚åˆ—è¡¨å˜é‡åå’ŒçŠ¶æ€å±æ€§åç§°å…±äº«åŒä¸€åç§°ã€‚

```react
// ES5
this.state = {
  list: list,
};
//ES6
this.state = {
  list,
};
```

å¦ä¸€ä¸ªç®€æ´çš„è¾…åŠ©åŠæ³•æ˜¯**ç®€å†™æ–¹æ³•å**ã€‚

ä¸¾ä¸ªğŸŒ°

```react
// ES5
var userService = {
  getUserName: function(user) {
    return user.firstname + ' ' + user.lastname;
  },
}
//ES6
const userService = {
  getUserName(user) {
    return user.firstname + ' ' + user.lastname;
  },
}
```

æœ€åæˆ‘ä»¬å¯ä»¥åœ¨ES6ä¸­ä½¿ç”¨è®¡ç®—å±æ€§åã€‚

```react
//ES5
var user = {
  name: 'Robin',
};
//ES6
const key = 'name';
const user = {
  [key] : 'Robin',
}
```

## å•å‘æ•°æ®æµ

ç°åœ¨æˆ‘ä»¬çš„ç»„ä»¶ä¸­æœ‰ä¸€äº›å†…éƒ¨çš„stateã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰æ“çºµå®ƒä»¬ï¼Œå› æ­¤stateæ˜¯é™æ€çš„ã€‚ä¸€ä¸ªç»ƒä¹ stateæ“ä½œå¥½æ–¹æ³•æ˜¯å¢åŠ ä¸€äº›ç»„ä»¶çš„äº¤äº’ã€‚

è®©æˆ‘ä»¬ä¸ºåˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹å¢åŠ ä¸€ä¸ªæŒ‰é’®ã€‚æ„å‘³ç€å°†ä»åˆ—è¡¨ä¸­åˆ é™¤è¯¥é¡¹ã€‚è¿™ä¸ªæŒ‰é’®åœ¨æˆ‘ä»¬å¸Œæœ›ä¿ç•™æœªè¯»åˆ—è¡¨å’Œåˆ é™¤ä¸æ„Ÿå…´è¶£çš„é¡¹æ—¶ä¼šéå¸¸æœ‰ç”¨ã€‚

ä¸¾ä¸ªä¸­ç­‰ğŸŒ°

```react
class App extends Component {
  ...
  
  render() {
    return (
    	<div className="App">
        {this.state.list.map(item => {
          <div key={item.objectID}>
          	<span>
            	<a href={item.url}>{item.title}</a>
            </span>
            <span>{item.author}</span>
            <span>{item.num_comments}</span>
            <span>{item.points}</span>
            <span>
            	<button 
                onClick={() => this.onDismiss(item.objectID)}
                type="button"
              >
              	Dismiss
              </button>
            </span>
          </div>
        });}
      </div>
    )
  }
}
```



è¿™ä¸ªç±»æ–¹æ³•onDismiss()è¿˜æ²¡æœ‰è¢«å®šä¹‰ï¼Œæˆ‘ä»¬ç¨åå†æ¥åšè¿™ä»¶äº‹ã€‚

åœ¨`onClick`äº‹ä»¶å¤„ç†å™¨ä¸­ï¼ŒonDismiss()æ–¹æ³•è¢«åŒ…è£¹ç€ã€‚å®ƒæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥æ‹¿åˆ°itemå¯¹è±¡ä¸­çš„objectIDå±æ€§æ¥ç¡®å®šå“ªä¸€é¡¹ä¼šè¢«åˆ é™¤æ‰ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨`onClick`å¤„ç†å™¨ä¹‹å¤–å®šä¹‰å‡½æ•°ï¼Œå¹¶åªå°†å·²å®šä¹‰çš„å‡½æ•°ä¼ åˆ°å¤„ç†å™¨ã€‚

æˆ‘ä»¬éœ€è¦å®ŒæˆonDismiss()çš„åŠŸèƒ½ï¼Œå®ƒé€šè¿‡idæ¥æ ‡ç¤ºå“ªä¸€é¡¹éœ€è¦è¢«åˆ é™¤ã€‚æ­¤å‡½æ•°ç»‘å®šåˆ°ç´¯ï¼Œå› æ­¤ç§°ä¸ºç±»æ–¹æ³•ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è®¿é—®å®ƒä½¿ç”¨this.onDismiss() è€Œä¸æ˜¯onDismiss()ã€‚

thiså¯¹è±¡æ˜¯ç±»çš„å®ä¾‹, ä¸ºäº†å°†onDismiss() å®šä¹‰ä¸ºç±»æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šå®ƒ.

ä¸¾ä¸ªæœ‰ç‚¹å¤§çš„ğŸŒ°

```react
class App extends Component {
  constructor(props) {
    super(props);
    
    this.state = {
      list,
    }
    
    this.onDimiss = this.onDismiss.bind(this);
  }
  
  render() {
    return(
    	<div className="App">
      	{this.state.list.map(item => {
          <div key={item.objectID}>
          	<span>
            	<a href={item.url}>{item.title}</a>
            </span>
            <span>{item.author}</span>
            <span>{item.num_con}</span>
            <span>{item.num}</span>
            
            <span>
            	<buttion 
                onClick={() => this.onDismiss(item.objectID)}
                type="button"
              >
              onDismiss
              </buttion>
            </span>
          </div>
        });}
      </div>
    );
  }
}
```

ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç±»ä¸­å®šä¹‰å®ƒçš„åŠŸèƒ½å’Œä¸šåŠ¡é€»è¾‘ã€‚

```react
class App extends Component {
  constructor(props) {
    super(props);
    
    this.state = {
      list,
    }
    
    this.onDismiss = this.onDismiss.bind(this);
  }
  
  onDismiss(id) {
    ....
  }
  
  render() {
    ...
  }
}
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥å®šä¹‰æ–¹æ³•å†…éƒ¨çš„åŠŸèƒ½ã€‚æ€»çš„æ¥è¯´æˆ‘ä»¬å¸Œæœ›ä»åˆ—è¡¨ä¸­åˆ é™¤ç”±idæ ‡è¯†çš„é¡¹ï¼Œå¹¶ä¸”ä¿å­˜æ›´æ–°åçš„åˆ—è¡¨åˆ°stateä¸­ã€‚éšåè¿™ä¸ªæ›´æ–°ååˆ—è¡¨è¢«ä½¿ç”¨åˆ°å†æ¬¡è¿è¡Œçš„render()æ–¹æ³•ä¸­å¹¶æ¸²æŸ“ï¼Œæœ€åè¿™ä¸ªè¢«åˆ é™¤é¡¹å°±ä¸å†æ˜¾ç¤ºäº†ã€‚

ä¸¾ä¸ªä¸­ç­‰ğŸŒ°

```react
onDismiss(id) {
  const updatedList = this.state.list.filter(function isNotId(item) {
    return item.objectID !== id;
  });
}
```

ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠ½å–å‡½æ•°å¹¶å°†å…¶ä¼ é€’ç»™filterå‡½æ•°

```react
onDismiss(id) {
  function isNotId(item) {
    return item.objectID !== id;
  }
  
  const updatedList = this.state.list.filter(isNotId);
}
```

å¦å¤–ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ES6çš„ç®­å¤´å‡½æ•°è®©ä»£ç æ›´ç®€æ´ã€‚

```react
onDismiss(id) {
  const isNotId = item => item.objectID !== id;
  const updatedList = this.state.list.filter(isNotId);
}
```

ç”šè‡³å¯ä»¥å†…è”åˆ°ä¸€è¡Œå®Œæˆã€‚

```Â react
onDismiss(id) {
  const updatedList = this.state.list.filter(item => item.objectID !== id);
}
```

ç°åœ¨å·²ç»ä»åˆ—è¡¨ä¸­åˆ é™¤äº†ç‚¹å‡»é¡¹ï¼Œä½†æ˜¯stateè¿˜æ²¡æœ‰æ›´æ–°ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æœ€åä½¿ç”¨ç±»æ–¹æ³•**setState();** æ¥æ›´æ–°ç»„ä»¶stateä¸­çš„åˆ—è¡¨äº†ã€‚

```react
onDismiss(id) {
  const isNotId = item => item.objectID !== id;
  const updatedList = this.state.list.filter(isNotId);
  this.setState({list: updatedList});
}
```

è¿™å°±æ˜¯Reactä¸­çš„å•å‘æ•°æ®æµã€‚

æˆ‘ä»¬åœ¨ç•Œé¢é€šè¿‡onClickè§¦å‘ä¸€ä¸ªåŠ¨ä½œï¼Œå†é€šè¿‡å‡½æ•°æˆ–ç±»æ–¹æ³•ä¿®æ”¹ç»„ä»¶çš„state, æœ€åç»„ä»¶çš„render() æ–¹æ³•å†æ¬¡è¿è¡Œå¹¶æ›´æ–°ç•Œé¢ã€‚

![image-20190813231517225](/Users/elin/Library/Application Support/typora-user-images/image-20190813231517225.png)

## ç»‘å®š

å½“ä½¿ç”¨ES6ç¼–å†™çš„Reactç»„ä»¶æ—¶ï¼Œäº†è§£JavaScriptç±»çš„ç»‘å®šä¼šéå¸¸é‡è¦ã€‚

æˆ‘ä»¬å·²ç»åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šäº†onDismiss() æ–¹æ³•

```react
class App extends Component {
  constructor(props) {
    super(props);
    
    this.state = {
      list,
    }
    
    this.onDismiss = this.onDismiss().bind(this);
  }
  ...
}
```

ç»‘å®šçš„æ­¥éª¤æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºç±»æ–¹æ³•ä¸ä¼šè‡ªåŠ¨ç»‘å®šthisåˆ°å®ä¾‹ä¸Šã€‚

æˆ‘ä»¬ä¸¾ä¸ªé”™è¯¯çš„å°ğŸŒ°

```react
class ExplainBindingsComponent extends Component {
  onClickMe() {
    console.log(this);
  }
  
  render() {
    return (
    	<button 
        onClick={this.onClickMe}
      	type="button"
      >
      Click Me
      </button>
    );
  }
}
```

ç»„ä»¶è™½ç„¶èƒ½æ­£ç¡®æ¸²æŸ“ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šåœ¨å¼€å‘è°ƒè¯•æ§åˆ¶å°ä¸­å¾—åˆ°undefinedã€‚

è¿™æ˜¯ä½¿ç”¨Reactä¸»è¦çš„bugæ¥æºï¼Œå› ä¸ºå½“æˆ‘ä»¬æƒ³åœ¨ç±»æ–¹æ³•ä¸­è®¿é—®this.stateæ—¶ï¼Œç”±äºthisæ˜¯undefinedæ‰€æœ‰å¹¶ä¸èƒ½è¢«æ£€ç´¢åˆ°ã€‚

æ‰€ä»¥ ä¸ºäº†ç¡®ä¿thisåœ¨ç±»æ”¾å•Šæ”¾ä¸­æ˜¯å¯è®¿é—®çš„ï¼Œæˆ‘ä»¬éœ€è¦å°†thisç»‘å®šåˆ°ç±»æ–¹æ³•ä¸Šã€‚

ä¸¾ä¸ªæ­£ç¡®çš„ğŸŒ°

```react
class ExplainBindingsComponent extends Component {
  constructor() {
    super();
    
    this.onClickMe = this.onClickMe.bind(this);
  }
  
  onClickMe() {
    console.log(this);
  }
  
  render() {
    return (
    	<button
        onClick={this.onClickMe}
        type="button"
      >
      Click Me
      </button>
    );
  }
}
```

å†æ¬¡å°è¯•ç‚¹å‡»æŒ‰é’®ï¼Œè¿™ä¸ªthiså¯¹è±¡å°±æŒ‡å‘äº†ç±»çš„å®ä¾‹ã€‚

æˆ‘ä»¬ç°åœ¨å°±å¯ä»¥è®¿é—®åˆ°this.stateäº†

ç±»æ–¹æ³•çš„ç»‘å®šä¹Ÿå¯ä»¥å†™åœ¨å…¶ä»–åœ°æ–¹ï¼Œæ¯”å¦‚å†™åœ¨render()å‡½æ•°ä¸­ã€‚

ğŸŒ°ä¸¾èµ·æ¥

```react
class ExplainBindingsComponent extends Component {
  onClickMe() {
    console.log(this);
  }
  
  render() {
    return(
    	<button
        onClick={this.onClickMe.bind(this)}
        type="button"
      >
        Click Me
      </button>
    );
  }
}
```

ä½†æ˜¯æˆ‘ä»¬**åº”è¯¥é¿å…**è¿™æ ·åšï¼Œå› ä¸ºå®ƒä¼šåœ¨æ¯æ¬¡render()æ–¹æ³•æ‰§è¡Œæ—¶ç»‘å®šç±»æ–¹æ³•ã€‚

æ€»ç»“æ¥è¯´ç»„ä»¶æ¯æ¬¡è¿è¡Œæ›´æ–°æ—¶éƒ½ä¼šå¯¼è‡´**æ€§èƒ½æ¶ˆè€—**ã€‚

å½“åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šæ—¶ï¼Œ**ç»‘å®šåªä¼šåœ¨ç»„ä»¶å®ä¾‹åŒ–æ—¶è¿è¡Œä¸€æ¬¡**ï¼Œè¿™æ ·åšæ˜¯ä¸€ä¸ªæ›´å¥½çš„æ–¹å¼ã€‚

ä¸¾ä¸ªğŸŒ°

```react
class ExplainBindingsComponent extends Component {
  constructor() {
    super();
    
    this.onClickMe = () => {
      console.log(this);
    }
  }
  
  render() {
    return (
    	<button
        onClick={this.onClickMe}
        type="button"
      >
      	Click Me
      </button>
    );
  }
}
```

æˆ‘ä»¬åŒæ ·ä¹Ÿåº”è¯¥**é¿å…è¿™ç§å†™æ³•**ï¼›å› ä¸ºéšç€æ—¶é—´çš„æ¨ç§»å®ƒä¼šè®©æˆ‘ä»¬çš„æ„é€ å‡½æ•°å˜å¾—æ··ä¹±ã€‚

**æ„é€ å‡½æ•°çš„ç›®çš„**åªæ˜¯å®ä¾‹åŒ–ä½ çš„ç±»ä»¥åŠæ‰€æœ‰çš„å±æ€§

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åº”è¯¥æŠŠä¸šåŠ¡é€»è¾‘åº”è¯¥å®šä¹‰åœ¨æ„é€ å‡½æ•°ä¹‹å¤–ã€‚

æ­£ç¡®å§¿åŠ¿ä¸¾ğŸŒ°

```react
class ExplainBindingsComponent extends Component {
  constructor() {
    super();
    
    this.doSomething = this.doSomething.bind(this);
    this.doSomethingElse = this.doSomethingElse.bind(this);
  }
  
  doSomething() {
    ....
  }
  
  doSomethingElse() {
    ....
  }
  
  ...
}

```

æœ€åæä¸€ä¸‹ï¼Œç±»æ–¹æ³•å¯ä»¥é€šè¿‡ES6çš„ç®­å¤´å‡½æ•°åšåˆ°è‡ªåŠ¨åœ°ç»‘å®š

ä¸¾ä¸ªğŸŒ°

```react
class ExplainBindingsComponent extends Component {
  onClickMe = () => {
    console.log(this);
  }
  
  render() {
    return (
    	<button
        onClick={this.onClickMe}
        type="button"
      >
      	Click Me
      </button>
    );
  }
}
```

å¦‚æœåœ¨æ„é€ å‡½æ•°ä¸­çš„é‡å¤ç»‘å®šå¯¹æˆ‘ä»¬æœ‰æ‰€ å›°æ‰°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æ›¿ä»£ã€‚

Reactçš„å®˜æ–¹æ–‡æ¡£ä¸­åšæŒ**åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šç±»æ–¹æ³•**ã€‚

## äº‹ä»¶å¤„ç†

è®©æˆ‘ä»¬å¯¹åŒ€é€Ÿçš„äº‹ä»¶å¤„ç†æœ‰æ›´æ·±çš„äº†è§£ï¼Œåœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸‹é¢çš„æŒ‰é’®æ¥ä»åˆ—è¡¨ä¸­å¿½ç•¥ä¸€é¡¹å†…å®¹ã€‚

```react
<button
  onClick={() => this.onDismiss(item.objectID)}
  type="button"
>
	Dismiss
</button>
```

ä¸Šé¢å·²ç»æ˜¯ä¸€ä¸ªå¤æ‚çš„ä¾‹å­äº†ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»**ä¼ é€’ä¸€ä¸ªå‚æ•°åˆ°ç±»çš„æ–¹æ³•**ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å®ƒå°è£…åˆ°å¦ä¸€ä¸ª(ç®­å¤´)å‡½æ•°ä¸­ï¼ŒåŸºæœ¬ä¸Šï¼Œç”±äºè¦ä¼ é€’ç»™äº‹ä»¶å¤„ç†å™¨ä½¿ç”¨ï¼Œå› æ­¤å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚

```react
...
<button 
  onClick={this.onDismiss(item.objectID)}
  type="button"
>
	Dismiss
</button>
...
```

å½“ä½¿ç”¨onClick={doSomething()} æ—¶ï¼ŒdoSomething()å‡½æ•°ä¼šåœ¨æµè§ˆå™¨æ‰“å¼€ç¨‹åºæ—¶ç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥ç‚¹å‡»æŒ‰é’®æ—¶ä¸ä¼šæœ‰ä»»ä½•äº‹å‘ç”Ÿã€‚

ä½†å½“ä½¿ç”¨onClick={doSomething}æ—¶ï¼Œå› ä¸ºdoSomethingæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥å®ƒä¼šåœ¨ç‚¹å‡»æŒ‰é’®æ—¶æ‰§è¡Œã€‚

ç„¶è€Œï¼Œè¿™ä¸ªç±»æ–¹æ³•å¦‚æœéœ€è¦å»æ¥æ”¶item.objectIDå±æ€§æ¥è¯†åˆ«é‚£ä¸ªå°†è¦è¢«å¿½ç•¥çš„é¡¹ã€‚æ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒéœ€è¦è¢«å°è£…åˆ°å¦ä¸€ä¸ªå‡½æ•°ä¸­æ¥ä¼ é€’è¿™ä¸ªå±æ€§ã€‚

ä¸¾ä¸ªğŸŒ°

```react
...
<button
  onClick={() => this.onDismiss(item.objectID)}
  type="button"
>
	Dismiss
</button>
...
```

è¿˜æœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åœ¨å¤–éƒ¨å®šä¹‰ä¸€ä¸ªåŒ…è£…å‡½æ•°ï¼Œå¹¶ä¸”åªå°†å®šä¹‰çš„å‡½æ•°ä¼ é€’ç»™å¤„ç†ç¨‹åºã€‚å› ä¸ºéœ€è¦è®¿é—®ç‰¹å®šçš„åˆ—è¡¨é¡¹ï¼Œæ‰€ä»¥å®ƒå¿…é¡»ä½äºmapå‡½æ•°å—çš„å†…éƒ¨

```react
class App extends Component {
  ...
  
  render() {
    return(
    	<div className="App">
      	{this.state.list.map(item => {
          const onHandleDismiss = () => this.onDismiss(item.objectId);
          return (
          	<div key={item.objectID}>
            	<span>
              	<a href={item.url}>{item.title}</a>
              </span>
              <span>{item.author}</span>
              <span>{item.num_comments}</span>
              <span>{item.points}</span>
              
              <span>
              	<button 
                  onClick={onHandleDismiss}
                  type="button"
                >
                	Dismiss
                </button>
              </span>
            </div>
          );
        })}
      </div>
    );
  }
}
```

æ¯•ç«Ÿï¼Œä¼ ç»™å…ƒç´ äº‹ä»¶å¤„ç†å™¨çš„å†…å®¹å¿…é¡»æ˜¯å‡½æ•°ã€‚

ä¸¾ä¸ªğŸŒ°

```react
class App extends Component {
  ...
  
  render() {
    return (
    	<div className="App">
      	{this.state.list.map(item => {
          <span>
          	<button 
              onClick={console.log(item.objectID)}
              type="button"
            >
            	Dismiss
            </button>
          </span>
        })}
      </div>
    );
  }
}
```

å®ƒä¼šåœ¨æµè§ˆå™¨åŠ è½½è¯¥ç¨‹åºæ—¶æ‰§è¡Œï¼Œä½†ç‚¹å‡»æŒ‰é’®æ—¶ä¸ä¼šè¢«è§¦å‘ã€‚æ˜æ˜¾å’Œæˆ‘ä»¬è§„åˆ’çš„ä¸ç¬¦ã€‚

æ‰€ä»¥ï¼Œæ­£ç¡®å§¿åŠ¿ä¸¾ğŸŒ°

```react
<button
  onClick={function() {
    console.log(item.objectID);
  }}
  type="button"
>
	Dismiss
</button>
```

æ¢æˆç®­å¤´å‡½æ•°ï¼Œä¿æŒç®€æ´

æ¢ä¸ªå§¿åŠ¿ä¸¾ğŸŒ°

```react
<button
  onClick={() => console.log(item.objectID)}
  type="button"
>
	Click Me
</button>
```

å¦ä¸€ä¸ªç»å¸¸ä¼šè¢«æåˆ°çš„æ€§èƒ½ç›¸å…³è¯é¢˜æ˜¯åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°çš„å½±å“ã€‚

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«1000ä¸ªé¡¹ç›®çš„å·¨å¤§æ•°æ®è¡¨ï¼Œæ¯ä¸€è¡Œæˆ–è€…åˆ—åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­éƒ½æœ‰è¿™æ ·ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè¿™ä¸ªæ—¶å€™å°±**éœ€è¦è€ƒè™‘æ€§èƒ½å½±å“**ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªä¸“ç”¨çš„æŒ‰é’®ç»„ä»¶æ¥åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šæ–¹æ³•ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªä¸æˆç†Ÿçš„ä¼˜åŒ–ã€‚

## å’Œè¡¨å•äº¤äº’

è®©æˆ‘ä»¬åœ¨ç¨‹åºä¸­åŠ å…¥è¡¨å•æ¥ä½“éªŒReactå’Œè¡¨å•äº‹ä»¶çš„äº¤äº’ï¼Œæˆ‘ä»¬å°†åœ¨ç¨‹åºä¸­åŠ å…¥æœç´¢åŠŸèƒ½ï¼Œåˆ—è¡¨ä¼šæ ¹æ®è¾“å…¥æ¡†çš„å†…å®¹å¯¹æ ‡é¢˜è¿›è¡Œè¿‡æ»¤ã€‚

ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨JSXä¸­å®šä¹‰ä¸€ä¸ªå¸¦æœ‰è¾“å…¥æ¡†çš„è¡¨å•ã€‚

```react
...
render() {
  return(
  	<div className="App">
    	<form>
        <input type="text"/>
      </form>
      {this.state.list.map(item => {
        ....
      })}
    </div>
  );
}
```

åœ¨ä¸‹é¢çš„åœºæ™¯ä¸­ï¼Œå°†ä¼šä½¿ç”¨åœ¨è¾“å…¥æ¡†ä¸­çš„å†…å®¹ä½œä¸ºæœç´¢å­—æ®µæ¥ä¸´æ—¶è¿‡æ»¤åˆ—è¡¨ã€‚

ä¸ºäº†èƒ½æ ¹æ®è¾“å…¥æ¡†çš„å€¼è¿‡æ»¤åˆ—è¡¨ï¼Œæˆ‘ä»¬éœ€è¦å°†è¾“å…¥æ¡†çš„å€¼å­˜å‚¨åœ¨æˆ‘ä»¬çš„æœ¬åœ°çŠ¶æ€ä¸­ï¼Œ

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Reactçš„åˆæˆäº‹ä»¶æ¥è®¿é—®äº‹ä»¶è¿”å›å€¼ã€‚

è®©æˆ‘ä»¬ä¸ºè¾“å…¥æ¡†å®šä¸€ä¸ªonChangeå¤„ç†ç¨‹åº

```react
class App extends Component{
  ...
  render() {
    return (
    	<div className="App">
      	<form>
        	<input
            type="text"
            onChange={this.onSearchChange}
          />
        </form>
        ...
      </div>
    );
  }
}
```

è¿™ä¸ªå‡½æ•°è¢«ç»‘å®šåˆ°ç»„ä»¶ä¸Šï¼Œå› æ­¤å†æ¬¡ç§°ä¸ºä¸€ä¸ªç±»æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰æ–¹æ³•å¹¶bindå®ƒ

```react
class App extends Component {
  constructor(props) {
    super(props);
    
    this.state = {
      list,
    }
    this.onSearchChange = this.onSearchChange.bind(this);
    this.onDismiss = this.onDismiss.bind(this);
  }
  
  onSearchChange() {
    ...
  }
    ...
}
```

eventå¯¹è±¡çš„targetå±æ€§ä¸­å¸¦æœ‰è¾“å…¥æ¡†çš„å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨this.setState()æ¥æ›´æ–°æœ¬åœ°çš„æœç´¢è¯çš„çŠ¶æ€äº†ã€‚

```react
class App extends Component {
  ...
  onSearchChange(event) {
    this.setState({searchTerm: event.target.value});
  }
	...
}
```

æ­¤å¤–ï¼Œæˆ‘ä»¬åº”è¯¥è®°ä½åœ¨æ„é€ å‡½æ•°ä¸­ä¸ºsearchTermå®šä¹‰åˆå§‹çŠ¶æ€ï¼Œè¾“å…¥æ¡†åœ¨å¼€å§‹æ—¶åº”è¯¥æ˜¯ç©ºçš„ï¼Œå› æ­¤åˆå§‹å€¼åº”è¯¥æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚

```react
class App extends Component {
  constructor(props) {
    super(props);
    
    this.state = {
      list,
      searchTerm: '',
    };
    
    this.onSearchChange = this.onSearchChange.bind(this);
    this.onDismiss = this.onDismiss.bind(this);
  }
  
  ...
}
```

å…³äºåœ¨Reactç»„ä»¶ä¸­æ›´æ–°çŠ¶æ€çš„ç®€è¦è¯´æ˜ã€‚

Reactçš„this.setState() æ˜¯ä¸€ä¸ªæµ…åˆå¹¶ï¼Œåœ¨æ›´æ–°ä¸€ä¸ªå”¯ä¸€çš„å±æ€§æ—¶ï¼Œä»–ä¼šä¿ç•™çŠ¶æ€å¯¹è±¡ä¸­çš„å…¶ä»–å±æ€§ï¼Œå› æ­¤å³ä½¿æˆ‘ä»¬å·²ç»åœ¨åˆ—è¡¨ä¸­æ’é™¤äº†ä¸€ä¸ªé¡¹ï¼Œåœ¨æ›´æ–°searchTermå±æ€§æ—¶ä¹Ÿä¼šä¿æŒä¸å˜ã€‚

æˆ‘ä»¬éœ€è¦æ›´å…·å­˜å‚¨åœ¨æœ¬åœ°çŠ¶æ€ä¸­çš„è¾“å…¥å­—æ®µè¿›è¡Œè¿‡æ»¤ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨render()æ–¹æ³•ä¸­ï¼Œåœ¨mapæ˜ å°„åˆ—è¡¨ä¹‹å‰ï¼Œæ’å…¥ä¸€ä¸ªè¿‡æ»¤çš„æ–¹æ³•ã€‚

è¿™ä¸ªè¿‡æ»¤æ–¹æ³•å°†åªä¼šåŒ¹é…æ ‡é¢˜å±æ€§ä¸­æœ‰searchTermå†…å®¹çš„åˆ—è¡¨é¡¹ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨filter+mapçš„æ–¹å¼

ä¸¾ä¸ªğŸŒ°

```react
class App extends Component {
  ...
  render() {
    return(
    	<div className="App">
      	<form>
        	<input
            type="text"
            onChange={this.onSearchChange}
          />
        </form>
        {this.state.list.filter(..).map(item => {
          ...
        })}
      </div>
    );
  }
}
```

å¦ä¸€ç§æ–¹å¼(é«˜é˜¶å‡½æ•°):

ä¸¾èµ·å·¨å¤§çš„ğŸŒ°

```react
function isSearched(searchTerm) {
  return function(item) {
    //.... return true or false
  }
}

class App extends Component {
  ...
}
```

è¯¥å‡½æ•°æ¥å—searchTermå¹¶è¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸ºæ‰€æœ‰çš„filterå‡½æ•°éƒ½æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå®ƒçš„è¾“å…¥ï¼Œè¿”å›çš„å‡½æ•°å¯ä»¥è®¿é—®åˆ—è¡¨é¡¹ç›®å¯¹è±¡ï¼Œå› ä¸ºå®ƒæ˜¯ä¼ ç»™filterå‡½æ•°çš„å‡½æ•°ã€‚

è¿”å›çš„å‡½æ•°å°†ä¼šæ ¹æ®å‡½æ•°ä¸­å®šä¹‰çš„æ¡ä»¶å¯¹åˆ—è¡¨è¿›è¡Œè¿‡æ»¤ã€‚

ä¸¾ä¸ªğŸŒ°

```react
function isSearched(searchTerm) {
  return function(item) {
    return item.title.toLowerCase().includes(searchTerm.toLowerCase())
  }
}

class App extends Component {
  ...
}
```

åªæœ‰æ»¡è¶³åŒ¹é…æ—¶æ‰ä¼šè¿”å›trueå¹¶å°†é¡¹ç›®ä¿ç•™åœ¨åˆ—è¡¨ä¸­ã€‚å½“ä¸åŒ¹é…æ—¶ï¼Œé¡¹ç›®ä¼šä»åˆ—è¡¨ä¸­ç§»é™¤ã€‚ï¼ˆæ³¨æ„å¤§å°å†™é—®é¢˜ï¼‰

ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªä¸å¯å˜çš„åˆ—è¡¨ï¼Œå¹¶ä½¿ç”¨filterå‡½æ•°è¿”å›ä¸€ä¸ªæ–°åˆ—è¡¨ï¼Œæ‰€ä»¥æœ¬åœ°çŠ¶æ€ä¸­çš„åŸå§‹åˆ—è¡¨æ ¹æœ¬å°±**æ²¡æœ‰è¢«ä¿®æ”¹è¿‡**

JavaScriptå†…ç½®çš„includesåŠŸèƒ½ï¼Œå®ƒå·²ç»æ˜¯ä¸€ä¸ªES6çš„ç‰¹æ€§äº†ã€‚

åœ¨ES5ä¸­æˆ‘ä»¬å°†ä½¿ç”¨indexOf()å‡½æ•°æ¥è·å–åˆ—è¡¨ä¸­é¡¹çš„ç´¢å¼•ï¼Œå½“é¡¹ç›®åœ¨åˆ—è¡¨ä¸­æ—¶ï¼ŒindexOf()å°†ä¼šè¿”å›å®ƒçš„ç´¢å¼•ã€‚

```react
//ES5
string.indexOf(pattern) !== -1
//ES6
string.includes(pattern);
```

ä¸Šé¢ä»£ç ä¼˜åŒ–åï¼š

```react
//ES5
function isSearched(searchTerm) {
  return function(item) {
    return item.title.toLowerCase().includes(searchTerm.toLowerCase());
  }
}

//ES6
const isSearched = searchTerm => item => 
{return item.title.toLowerCase().includes(searchTerm.toLowerCase());}
```

æˆ‘ä»¬ä»æœ¬åœ°çŠ¶æ€ä¸­ä¼ é€’searchTermå±æ€§è¿”å›ä¸€ä¸ªæ ¹æ®æ¡ä»¶è¿‡æ»¤åˆ—è¡¨çš„è¾“å…¥è¿‡æ»¤å‡½æ•°ã€‚ä¹‹åå®ƒä¼šæ˜ å°„è¿‡æ»¤åçš„åˆ—è¡¨ç”¨äºæ˜¾ç¤ºæ¯ä¸ªåˆ—è¡¨é¡¹çš„å…ƒç´ ã€‚

```react
class App extends Component {
  ...
  render() {
    return(
    	<div className="App">
        <form>
        	<input 
            type="text"
            onChange={this.onSearchChange}
          />
        </form>
        {this.state.list.filter(isSearched(this.state.searchTerm)).map(item => {
          ...
        })}
      </div>
    );
  }
}
```

## å—æ§ç»„ä»¶

ä¸€ä¸ªHTMLè¾“å…¥æ ‡ç­¾å¸¦æœ‰ä¸€ä¸ªvalueå±æ€§ï¼Œè¿™ä¸ªå±æ€§é€šå¸¸æœ‰ä¸€ä¸ªä½œä¸ºè¾“å…¥æ¡†çš„æ˜¾ç¤ºã€‚

è¡¨å•å…ƒç´ æ¯”å¦‚\<input>,\<textarea>å’Œ\<select>ä¼šä»¥åŸç”ŸHTMLçš„å½¢å¼ä¿å­˜å®ƒä»¬è‡ªå·±çš„çŠ¶æ€ã€‚

ä¸€æ—¦æœ‰äººä»å¤–éƒ¨åšäº†ä¸€äº›ä¿®æ”¹ï¼Œå®ƒä»¬å°±ä¼šä¿®æ”¹å†…éƒ¨çš„å€¼ï¼Œåœ¨Reactä¸­è¿™è¢«ç§°ä¸º**ä¸å—æ§ç»„ä»¶**ï¼Œå› ä¸ºå®ƒä»¬è‡ªå·±å¤„ç†çŠ¶æ€ã€‚

åœ¨Reactä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ç¡®ä¿è¿™äº›å…ƒç´ å˜ä¸º**å—æ§ç»„ä»¶**ã€‚

ä¸¾ä¸ªğŸŒ°

```react
class App extends Component {
  ...
  render() {
    const { searchTerm, list } = this.state;
    return (
    	<div className="App">
      	<form>
        	<intpu 
            type="text" 
            onChange={this.onSearchChange}
            value={searchTerm}
            />
        </form>
        ...
      </div>
    );
  }
}
```

å°±æ˜¯è¿™æ ·ã€‚ç°åœ¨è¾“å…¥æ¡†çš„å•é¡¹æ•°æ®æµå¾ªç¯æ˜¯è‡ªåŒ…å«çš„ï¼Œç»„ä»¶å†…éƒ¨çŠ¶æ€æ˜¯è¾“å…¥æ¡†çš„å”¯ä¸€æ•°æ®æ¥æºã€‚

## æ‹†åˆ†ç»„ä»¶

ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¤§å‹çš„Appç»„ä»¶ã€‚å®ƒåœ¨ä¸åœåœ°æ‰©å±•ï¼Œæœ€ç»ˆå¯èƒ½ä¼šå˜å¾—æ··ä¹±ã€‚æˆ‘ä»¬å¯ä»¥å¼€å§‹å°†å®ƒæ‹†åˆ†æˆè‹¥å¹²ä¸ªæ›´å°çš„ç»„ä»¶ã€‚

è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ä¸€ä¸ªç”¨äºæœç´¢çš„è¾“å…¥ç»„ä»¶å’Œä¸€ä¸ªç”¨äºå±•ç¤ºçš„åˆ—è¡¨ç»„ä»¶å§ï½ï½ã€‚

ğŸŒ°æ¥äº†ã€‚

```react
class App extends Component {
  ...
  render() {
    const { searchTerm, list } = this.state;
    return (
    	<div className="App">
      	<Search />
        <Table />
      </div>
    );
  }
}
```

æˆ‘ä»¬å¯ä»¥ç»™ç»„ä»¶ä¼ é€’å±æ€§å¹¶åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å®ƒä»¬ã€‚è‡³äºAPPç»„ä»¶ï¼Œå®ƒéœ€è¦ä¼ é€’ç”±æœ¬åœ°çŠ¶æ€(state)æ‰˜ç®¡çš„å±æ€§å’Œå®ƒè‡ªå·±çš„ç±»æ–¹æ³•ã€‚

```react
class App extends Component {
  ...
  
  render() {
    const {searchTerm, list} = this.state;
    return (
    	<div className="App">
      	<Search
          value={searchTerm}
          onChange={this.onSearchChange}
        />
        <Table 
          list={list}
          pattern={searchTerm}
          onDismiss={this.onDismiss}
          />
      </div>
    );
  }
}
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥æ¥ç€Appç»„ä»¶å®šä¹‰è¿™äº›ç»„ä»¶ã€‚è¿™äº›ç»„ä»¶ä»ç„¶æ˜¯ES6ç±»ç»„ä»¶ï¼Œå®ƒä»¬ä¼šæ¸²æŸ“å’Œä¹‹å‰ç›¸åŒçš„å…ƒç´ ã€‚

ç¬¬ä¸€ä¸ªæ˜¯Searchç»„ä»¶

```react
class Search extends Component {
  render() {
    const { value, onChange } = this.props;
    
    return (
      <form>
      	<input type="text" value={value} onChange={onChange}/>
      </form>
    );
  }
}
```

ç¬¬äºŒä¸ªæ˜¯Tableç»„ä»¶ã€‚

```react
class Table extends Component {
  render() {
    const {list, pattern, onDismiss} = this.props;
    
    return (
      <div>
      	{list.filter(isSerched(pattern)).map(item => {
          <div key={item.objectId}>
          	<span>
            	<a href={item.url}>{item.title}</a>
            </span>
            <span>{item.author}</span>
            <span>{item.num_comments}</span>
            <span>{item.pointer}</span>
            <span>
            	<button
                onClick={() => onDismiss(item.objectID)}
                type="button"
                >
              	Dismiss
              </button>
            </span>
          </div>
        })}
      </div>
    );
  }
}
```

ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸‰ä¸ªES6ç±»ç»„ä»¶ã€‚propsæ˜¯propertiesçš„ç®€å†™ï¼Œå½“æˆ‘ä»¬åœ¨Appç»„ä»¶é‡Œé¢ä½¿ç”¨å®ƒæ—¶ï¼Œå®ƒæœ‰æˆ‘ä»¬ä¼ é€’ç»™è¿™ä¸ªç»„ä»¶çš„æ‰€æœ‰å€¼ã€‚è¿™æ ·ï¼Œç»„ä»¶å¯ä»¥æ²¿ç€ç»„ä»¶æ ‘å‘ä¸‹ä¼ é€’å±æ€§ã€‚

ä»Appç»„ä»¶ä¸­æå–è¿™äº›ç»„ä»¶ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨åˆ«çš„åœ°æ–¹å»é‡ç”¨å®ƒä»¬äº†ã€‚

## å¯ç»„åˆç»„ä»¶

åœ¨props å¯¹è±¡ä¸­è¿˜æœ‰ä¸€ä¸ªå°å°çš„å±æ€§å¯ä¾›ä½¿ç”¨**:children** å±æ€§ã€‚é€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å°†å…ƒç´ ä»ä¸Šå±‚ä¼ é€’åˆ°æˆ‘ä»¬çš„ç»„ä»¶ä¸­ï¼Œè¿™äº›å…ƒç´ å¯¹æˆ‘ä»¬çš„ç»„ä»¶æ¥è¯´æ˜¯æœªçŸ¥çš„ï¼Œä½†æ˜¯å´ä¸ºç»„ä»¶ç›¸äº’ç»„åˆæä¾›äº†å¯èƒ½æ€§ã€‚

```react
class App extends Component {
  ...
  render() {
    const {searcgTerm, list} = this.state;
    return (
    	<div className="App">
      	<Search 
          value={searchTerm}
          onChange={this.onSearchChange}
          >
        Search
        </Search>
        <Table
          list={list}
          pattern={searchTerm}
          onDismiss={this.onDismiss}
          />
      </div>
    );
  }
}
```

ç°åœ¨Searchç»„ä»¶å¯ä»¥ä»propså¯¹è±¡ä¸­è§£æ„å‡ºchildrenå±æ€§ã€‚

ç„¶åå®ƒå°±å¯ä»¥æŒ‡å®šè¿™ä¸ªchildrenåº”è¯¥æ˜¾ç¤ºåœ¨å“ªé‡Œã€‚

```react
class Search extends Component {
  render() {
    const { value, onChange, children } = this.props;
    return (
      <form>
      	{children} <input 
           type="text" 
           value={value} 
           onChange={onChange}
        />
      </form>
    );
  }
}
```

ç°åœ¨ï¼Œæˆ‘ä»¬åº”è¯¥å¯ä»¥åœ¨è¾“å…¥æ¡†æ—è¾¹çœ‹åˆ°è¿™ä¸ª"Search"æ–‡æœ¬äº†ã€‚

**å®ƒä¸ä»…å¯ä»¥æŠŠæ–‡æœ¬ä½œä¸ºå­å…ƒç´ ä¼ é€’ï¼Œè¿˜å¯ä»¥å°†ä¸€ä¸ªå…ƒç´ æˆ–è€…å…ƒç´ æ ‘(å®ƒè¿˜å¯ä»¥å†æ¬¡å°è£…æˆç»„ä»¶) ä½œä¸ºå­å…ƒç´ ä¼ é€’ã€‚**

## å¯å¤ç”¨ç»„ä»¶

å¯å¤ç”¨å’Œå¯ç»„åˆç»„ä»¶è®©æˆ‘ä»¬èƒ½å¤Ÿæ€è€ƒåˆç†çš„ç»„ä»¶åˆ†å±‚ï¼Œå®ƒä»¬æ˜¯Reactè§†å›¾çš„åŸºç¡€ã€‚

ç°åœ¨æˆ‘ä»¬å¯ä»¥å¤ç”¨Searchå’ŒTableç»„ä»¶äº†ã€‚ç”šè‡³Appç»„ä»¶éƒ½æ˜¯å¯å¤ç”¨çš„äº†ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åœ¨åˆ«çš„åœ°æ–¹é‡æ–°å®ä¾‹åŒ–å®ƒã€‚

```react
class Button extends Component {
  render() {
    const {
      onClick,
      className,
      children,
    } = this.props;
    
    return (
    	<button
        onClick={onClick}
        className={className}
        type="button"
        >
      {children}
      </button>
    );
  }
}
```

Buttonç»„ä»¶æ‹¥æœ‰å•ä¸€å¯ä¿¡æ•°æ®æºã€‚ä¸€ä¸ªButtonç»„ä»¶å¯ä»¥ç«‹å³é‡æ„æ‰€æœ‰button.ä¸€ä¸ªButtonç»Ÿæ²»æ‰€æœ‰çš„button

* å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶ï¼šè¿™ç±»ç»„ä»¶å°±æ˜¯å‡½æ•°ï¼Œå®ƒä»¬æ¥æ”¶ä¸€ä¸ªè¾“å…¥å¹¶è¿”å›ä¸€ä¸ªè¾“å‡ºã€‚è¾“å…¥æ˜¯props,è¾“å‡ºå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„JSXç»„ä»¶å®ä¾‹ã€‚ç„¶è€Œï¼Œå‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶æ˜¯å‡½æ•°(å‡½æ•°å¼çš„), å¹¶ä¸”å®ƒä»¬æ²¡æœ‰æœ¬åœ°çŠ¶æ€(æ— çŠ¶æ€çš„)ã€‚æˆ‘ä»¬ä¸èƒ½é€šè¿‡this.stateæˆ–è€…this.setState()æ¥è®¿é—®æˆ–è€…æ›´æ–°çŠ¶æ€ï¼Œå› ä¸ºè¿™é‡Œæ²¡æœ‰thiså¯¹è±¡ã€‚æ­¤å¤–ï¼Œå®ƒä¹Ÿæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚
* ES6ç±»ç»„ä»¶ï¼šåœ¨ä½ çš„å››ä¸ªç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨è¿‡è¿™ç±»ç»„ä»¶äº†ã€‚åœ¨ç±»çš„å®šä¹‰ä¸­ï¼Œå®ƒä»¬ç»§æ‰¿è‡ªReactç»„ä»¶ã€‚extendä¼šæ³¨å†Œæ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåªè¦åœ¨React component APIä¸­ï¼Œéƒ½å¯ä»¥åœ¨ä½ çš„ç»„ä»¶ä¸­ä½¿ç”¨ã€‚é€šè¿‡ä½¿ç”¨this.stateå’Œthis.setState().æˆ‘ä»¬å¯ä»¥åœ¨ES6ç±»ç»„ä»¶ä¸­å‚¨å­˜å’Œæ“æ§stateã€‚



**ä»€ä¹ˆæ—¶å€™æ›´é€‚åˆä½¿ç”¨å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿ**

å½“æˆ‘ä»¬ä¸éœ€è¦æœ¬åœ°çŠ¶æ€æˆ–è€…ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å°±åº”è¯¥ä½¿ç”¨å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶ã€‚æœ€å¼€å§‹ä¸€èˆ¬ä½¿ç”¨å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶æ¥å®ç°æˆ‘ä»¬çš„ç»„ä»¶ï¼Œä¸€æ—¦æˆ‘ä»¬éœ€è¦è®¿é—®stateæˆ–è€…ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ—¶ã€‚æˆ‘ä»¬å°±å¿…é¡»è¦å°†å®ƒé‡æ„æˆä¸€ä¸ªES6ç±»ç»„ä»¶ã€‚

ä¸¾ä¸€ä¸ª**ES6è½¬å‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶**çš„å·¨å¤§çš„ğŸŒ°

```react
function Search(props) {
  const { value, onChange, children } = props;
  return (
    <form>
    	{children} <input 
                   type="text"
                   value={value}
                   onChange={onChange}
                   />
    </form>
  );
}
```

```react
const Search = ({ value, onChange, children }) => 
<form>
	{children} <input type="text" value={value} onChange={onChange}/>
</form>
```



## ç»™ç»„ä»¶å£°æ˜æ ·å¼

æˆ‘ä»¬å¯ä»¥å¤ç”¨src/App.csså’Œsrc/index.cssæ–‡ä»¶ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯ç”¨create-react-appæ¥åˆ›å»ºçš„ï¼Œæ‰€ä»¥è¿™äº›æ–‡ä»¶åº”è¯¥å·²ç»åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­äº†ã€‚å®ƒä»¬åº”è¯¥ä¹Ÿè¢«å¼•å…¥åˆ°æˆ‘ä»¬çš„src/App.jså’Œsrc/index.jsæ–‡ä»¶ä¸­äº†ã€‚

## æ€»ç»“å›é¡¾

* React
  * ä½¿ç”¨this.stateå’ŒsetState()æ¥ç®¡ç†æˆ‘ä»¬çš„å†…éƒ¨ç»„ä»¶çŠ¶æ€
  * å°†å‡½æ•°æˆ–è€…ç±»æ–¹æ³•ä¼ é€’åˆ°æˆ‘ä»¬çš„å…ƒç´ å¤„ç†å™¨
  * åœ¨Reactä¸­ä½¿ç”¨è¡¨å•æˆ–è€…äº‹ä»¶æ¥æ·»åŠ äº¤äº’
  * åœ¨Reactä¸­å•å‘æ•°æ®æµæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µ
  * æ‹¥æŠ±controlled components
  * é€šè¿‡children å’Œå¯å¤ç”¨ç»„ä»¶æ¥ç»„åˆç»„ä»¶
  * ES6ç±»ç»„ä»¶å’Œå‡½æ•°å¼æ— çŠ¶æ€ç»„ä»¶çš„ä½¿ç”¨æ–¹æ³•å’Œå®ç°
  * ç»™ä½ çš„ç»„ä»¶å£°æ˜æ ·å¼çš„æ–¹å¼
* ES6
  * ç»‘å®šåˆ°ä¸€ä¸ªç±»çš„å‡½æ•°å«ä½œç±»æ–¹æ³•
  * è§£æ„å¯¹è±¡å’Œæ•°ç»„
  * é»˜è®¤å‚æ•°
* General
  * é«˜é˜¶å‡½æ•°
